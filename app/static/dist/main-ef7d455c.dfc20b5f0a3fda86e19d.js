"use strict";(self.webpackChunkvenezia_frontend=self.webpackChunkvenezia_frontend||[]).push([[1556],{6986:function(e,t,a){a.d(t,{uX:function(){return u},yr:function(){return d}});var s=a(71083),n=a(60799);const o=new class{constructor(){this.queue=[],this.isOnline=navigator.onLine,this.retryAttempts=3,this.retryDelay=1e3,this.maxQueueSize=100,this.setupEventListeners(),this.startPeriodicFlush()}setupEventListeners(){window.addEventListener("online",(()=>{this.isOnline=!0,this.flushQueue()})),window.addEventListener("offline",(()=>{this.isOnline=!1})),document.addEventListener("visibilitychange",(()=>{!document.hidden&&this.isOnline&&this.flushQueue()})),window.addEventListener("beforeunload",(()=>{this.flushQueueSync()}))}async reportError(e){console.warn("Error reporting temporalmente deshabilitado:",e)}enrichErrorData(e){return{...e,sessionId:this.getSessionId(),userId:this.getUserId(),buildVersion:{CLAUDE_CODE_ENTRYPOINT:"cli",TERM_PROGRAM:"vscode",NODE:"/opt/homebrew/Cellar/node/23.9.0/bin/node",INIT_CWD:"/Users/santiagobalosky/Downloads/___venezia",BASE_URL:"http://localhost:5002",TERM:"xterm-256color",SHELL:"/bin/zsh",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/pl/84yxzzzd3v90npxddk5wtvsr0000gn/T/",npm_config_global_prefix:"/opt/homebrew",TERM_PROGRAM_VERSION:"1.3.5",ZDOTDIR:"/Users/santiagobalosky",MERCADOPAGO_WEBHOOK_URL:"https://760d-190-189-153-23.ngrok-free.app/payment/webhook",CURSOR_TRACE_ID:"ca0b4d1615b34a5ea4e2813559d1444a",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"0",WHATSAPP_API_TOKEN:"your_whatsapp_token",npm_config_noproxy:"",npm_config_local_prefix:"/Users/santiagobalosky/Downloads/___venezia",GIT_EDITOR:"true",NVM_DIR:"/Users/santiagobalosky/.nvm",USER:"santiagobalosky",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/opt/homebrew/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.xuCNbiahFc/Listeners",VSCODE_PROFILE_INITIALIZED:"1",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x8",npm_execpath:"/opt/homebrew/lib/node_modules/npm/bin/npm-cli.js",PYDEVD_DISABLE_FILE_VALIDATION:"1",MERCADOPAGO_ACCESS_TOKEN:"TEST-8283236698213961-051118-1e867ef867dd24873cff4534c55dab80-60104869",PATH:"/Users/santiagobalosky/Downloads/___venezia/node_modules/.bin:/Users/santiagobalosky/Downloads/node_modules/.bin:/Users/santiagobalosky/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/opt/homebrew/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/.bun/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Users/santiagobalosky/go/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Applications/Postgres.app/Contents/Versions/17/bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/go/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin://Applications/Topaz Gigapixel AI.app/Contents/Resources/bin:/Library/Apple/usr/bin:/usr/local/go/bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/.bun/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Users/santiagobalosky/go/bin:/Applications/Postgres.app/Contents/Versions/17/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/Users/santiagobalosky/.claude/scripts:/usr/local/go/bin:/Users/santiagobalosky/.claude/scripts:/Users/santiagobalosky/.claude/scripts",npm_package_json:"/Users/santiagobalosky/Downloads/___venezia/package.json",_:"/Users/santiagobalosky/Downloads/___venezia/node_modules/.bin/webpack",npm_config_userconfig:"/Users/santiagobalosky/.npmrc",npm_config_init_module:"/Users/santiagobalosky/.npm-init.js",USER_ZDOTDIR:"/Users/santiagobalosky",__CFBundleIdentifier:"com.todesktop.230313mzl4w4u92",npm_command:"run-script",PWD:"/Users/santiagobalosky/Downloads/___venezia",npm_lifecycle_event:"build:stats",EDITOR:"vi",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"delta",npm_package_name:"venezia-frontend",LANG:"C.UTF-8",BUNDLED_DEBUGPY_PATH:"/Users/santiagobalosky/.cursor/extensions/ms-python.debugpy-2025.8.0-darwin-arm64/bundled/libs/debugpy",FRONTEND_PORT:"3000",npm_config_npm_version:"10.9.2",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",NODE_ENV:"development",WHATSAPP_API_URL:"https://api.whatsapp.com/v1",npm_config_node_gyp:"/opt/homebrew/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"2.0.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",VSCODE_DEBUGPY_ADAPTER_ENDPOINTS:"/Users/santiagobalosky/.cursor/extensions/ms-python.debugpy-2025.8.0-darwin-arm64/.noConfigDebugAdapterEndpoints/endpoint-3134642746c88c1c.txt",GEMINI_API_KEY:"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU",SHLVL:"3",HOME:"/Users/santiagobalosky",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",WA_PORT:"3001",HOMEBREW_PREFIX:"/opt/homebrew",BACKEND_PORT:"5002",npm_config_cache:"/Users/santiagobalosky/.npm",LOGNAME:"santiagobalosky",npm_lifecycle_script:"webpack --mode production --json > stats.json",VSCODE_GIT_IPC_HANDLE:"/var/folders/pl/84yxzzzd3v90npxddk5wtvsr0000gn/T/vscode-git-376add9a89.sock",COREPACK_ENABLE_AUTO_PIN:"0",BUN_INSTALL:"/Users/santiagobalosky/.bun",npm_config_user_agent:"npm/10.9.2 node/v23.9.0 darwin arm64 workspaces/false",REACT_APP_GEMINI_API_KEY:"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU",CHROME_PATH:"",VSCODE_GIT_ASKPASS_NODE:"/Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)",GIT_ASKPASS:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",OSLogRateLimit:"64",CLAUDECODE:"1",npm_node_execpath:"/opt/homebrew/Cellar/node/23.9.0/bin/node",npm_config_prefix:"/opt/homebrew",COLORTERM:"truecolor",VITE_API_URL:"http://localhost:5002/api",VITE_APP_NAME:"Venezia Ice Cream",VITE_SUPABASE_URL:"https://axmknxpmapomyegdaogl.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bWtueHBtYXBvbXllZ2Rhb2dsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4OTU1MTcsImV4cCI6MjA2NzQ3MTUxN30.DNv7zX7KFp50DzhfzWumNYKUONcchQ1xaGFd0UfA18g",SUPABASE_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bWtueHBtYXBvbXllZ2Rhb2dsIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTg5NTUxNywiZXhwIjoyMDY3NDcxNTE3fQ.jVTJQCzkDhOHPey7wLRRBGjrcp4JXZlbLwox0bxQvIY",PORT:"5002"}.REACT_APP_VERSION||"unknown",environment:"production",timestamp:Date.now(),url:window.location.href,referrer:document.referrer,userAgent:navigator.userAgent,viewport:{width:window.innerWidth,height:window.innerHeight},connection:this.getConnectionInfo(),performance:this.getPerformanceInfo()}}async sendError(e,t=1){console.warn("Error reporting temporalmente deshabilitado:",e)}queueError(e){this.queue.push({...e,queuedAt:Date.now()}),this.queue.length>this.maxQueueSize&&(this.queue=this.queue.slice(-this.maxQueueSize)),this.persistQueue()}async flushQueue(){if(!this.isOnline||0===this.queue.length)return;const e=[...this.queue];this.queue=[];const t=e.map((async e=>{try{await this.sendError(e)}catch(t){this.queueError(e)}}));await Promise.allSettled(t),this.persistQueue()}flushQueueSync(){if(!this.isOnline||0===this.queue.length)return;const e=[...this.queue];if(this.queue=[],navigator.sendBeacon){const t=JSON.stringify({type:"batch_errors",errors:e});navigator.sendBeacon("/api/errors/batch",t)}}persistQueue(){try{localStorage.setItem("error_queue",JSON.stringify(this.queue))}catch(e){console.warn("Failed to persist error queue:",e)}}loadQueue(){try{const e=localStorage.getItem("error_queue");e&&(this.queue=JSON.parse(e))}catch(e){console.warn("Failed to load error queue:",e),this.queue=[]}}startPeriodicFlush(){setInterval((()=>{this.isOnline&&this.queue.length>0&&this.flushQueue()}),3e4)}delay(e){return new Promise((t=>setTimeout(t,e)))}getSessionId(){let e=sessionStorage.getItem("session_id");return e||(e=`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,sessionStorage.setItem("session_id",e)),e}getUserId(){try{const e=JSON.parse(localStorage.getItem("venezia-auth")||"{}");return e.state?.user?.id||"anonymous"}catch(e){return"anonymous"}}getConnectionInfo(){if("connection"in navigator){const e=navigator.connection;return{effectiveType:e.effectiveType,downlink:e.downlink,rtt:e.rtt,saveData:e.saveData}}return null}getPerformanceInfo(){if("memory"in performance){const e=performance.memory;return{usedJSHeapSize:e.usedJSHeapSize,totalJSHeapSize:e.totalJSHeapSize,jsHeapSizeLimit:e.jsHeapSizeLimit}}return null}reportJavaScriptError(e,t,a,s){this.reportError({type:"javascript",message:e.message,stack:e.stack,filename:t,lineno:a,colno:s})}reportPromiseRejection(e){this.reportError({type:"unhandled_promise_rejection",reason:e?.toString(),stack:e?.stack})}reportApiError(e,t,a){this.reportError({type:"api",endpoint:t,status:e.response?.status,statusText:e.response?.statusText,message:e.message,requestData:a,responseData:e.response?.data})}reportUserAction(e,t){this.reportError({type:"user_action",action:e,context:t,severity:"info"})}reportPerformanceIssue(e,t,a){this.reportError({type:"performance",metric:e,value:t,threshold:a,severity:t>a?"warning":"info"})}getStats(){return{queueLength:this.queue.length,isOnline:this.isOnline,lastFlushAttempt:this.lastFlushAttempt,totalReported:this.totalReported||0}}};o.loadQueue();var r=o;let i=!1,c=!1;const l={"/api/dashboard/overview":{success:!0,data:{revenue:{today:15420,growth:12.5},orders:{today:42,growth:8.3},products:{total:156,lowStock:12},customers:{total:324,new:15},salesByHour:[{hour:"9AM",sales:5},{hour:"10AM",sales:8},{hour:"11AM",sales:12},{hour:"12PM",sales:15},{hour:"1PM",sales:18},{hour:"2PM",sales:14},{hour:"3PM",sales:10},{hour:"4PM",sales:7}],topProducts:[{name:"Helado de Vainilla",sales:145,revenue:2175},{name:"Helado de Chocolate",sales:132,revenue:1980},{name:"Helado de Fresa",sales:98,revenue:1470},{name:"Helado de Dulce de Leche",sales:87,revenue:1305}],recentOrders:[{id:"001",customer:"Juan P√©rez",total:125.5,status:"completed",time:"10:30 AM"},{id:"002",customer:"Mar√≠a Garc√≠a",total:87.25,status:"pending",time:"11:15 AM"},{id:"003",customer:"Carlos L√≥pez",total:156,status:"completed",time:"12:00 PM"}]}},"/api/alerts":{success:!0,data:[{id:1,type:"stock",severity:"warning",title:"Stock Bajo",message:"Helado de Vainilla por debajo del m√≠nimo",timestamp:(new Date).toISOString(),read:!1},{id:2,type:"info",severity:"info",title:"Nuevo Pedido",message:"Pedido #1234 recibido",timestamp:(new Date).toISOString(),read:!1}]},"/api/products":{success:!0,data:[{id:1,name:"Helado de Vainilla",price:15,stock:45,category:"Cl√°sicos",image:null},{id:2,name:"Helado de Chocolate",price:15,stock:38,category:"Cl√°sicos",image:null},{id:3,name:"Helado de Fresa",price:15,stock:52,category:"Frutales",image:null}]},"/api/ai/health":{status:"ok",offline:!0,message:"Modo offline activo"},"/api/ingredients":{success:!0,data:[{id:1,name:"Leche Entera",current_stock:50,unit:"litros",supplier_name:"L√°cteos del Sur",min_stock:20},{id:2,name:"Crema de Leche",current_stock:30,unit:"litros",supplier_name:"L√°cteos del Sur",min_stock:15},{id:3,name:"Az√∫car",current_stock:100,unit:"kg",supplier_name:"Distribuidora Central",min_stock:50}]},"/api/recipes":{success:!0,data:[{id:1,name:"Helado de Vainilla",yield:10,unit:"litros",ingredients_count:5},{id:2,name:"Helado de Chocolate",yield:10,unit:"litros",ingredients_count:6}]},"/api/stores":{success:!0,data:[{id:1,name:"Sucursal Centro",address:"Av. Principal 123",active:!0},{id:2,name:"Sucursal Norte",address:"Calle Norte 456",active:!0}]},"/api/users":{success:!0,data:[{id:1,name:"Admin User",email:"admin@venezia.com",role:"Administrador"},{id:2,name:"Vendedor 1",email:"vendedor1@venezia.com",role:"Vendedor"}]}},d=()=>{s.A.interceptors.request.use((e=>(e.timeout=e.timeout||1e4,e)),(e=>Promise.reject(e))),s.A.interceptors.response.use((e=>(i&&(i=!1,c=!1,n.Ay.success("Conexi√≥n restaurada")),e)),(async e=>{const{config:t,response:a}=e;if(r.reportApiError(e,t?.url,t?.data),504===a?.status||!a){i=!0,c||(c=!0,n.Ay.error("No se puede conectar con el servidor. Usando modo offline.",{duration:5e3,icon:"üîå"}));const a=t.url,s=l[a]||l[a.split("?")[0]];return s?{data:s,status:200,statusText:"OK (Mock)",headers:{},config:t,request:{}}:Promise.reject({message:"Sin conexi√≥n al servidor",code:"OFFLINE",originalError:e})}return Promise.reject(e)}))},u=()=>i},30622:function(e,t,a){a.d(t,{vY:function(){return s}});const s=()=>{(()=>{if(!document.querySelector("link[rel~='icon']")){const e=document.createElement("link");e.rel="icon",document.head.appendChild(e)}const e=((e,t="#3b82f6")=>{const a=document.createElement("canvas"),s=a.getContext("2d");return a.width=e,a.height=e,s.fillStyle=t,s.fillRect(0,0,e,e),s.fillStyle="white",s.font=`bold ${.5*e}px Inter, sans-serif`,s.textAlign="center",s.textBaseline="middle",s.fillText("V",e/2,e/2),a.toDataURL("image/png")})(32),t=document.querySelector("link[rel~='icon']");t&&(t.href=e)})(),console.log("üé® PWA icons initialized")}},30862:function(e,t){t.A=new class{constructor(){this.storageKey="mockDeliveries",this.initializeData()}initializeData(){const e=this.getAll();if(!e||0===e.length){const e=[{id:1,order_number:"1210",customer_name:"Carlos L√≥pez",customer_phone:"+54 11 5660-4234",address:{street:"Av. Cabildo",number:"5266",neighborhood:"Caballito",city:"Buenos Aires"},status:"pending",priority:"normal",driver_id:null,driver_name:null,estimated_time:null,items:[{product_name:"Palito Frutilla",quantity:1,price:1150},{product_name:"1/4 kg Chocolate",quantity:2,price:2920}],total_amount:7090,notes:"",created_at:(new Date).toISOString(),scheduled_date:(new Date).toISOString()}];localStorage.setItem(this.storageKey,JSON.stringify(e))}}getAll(){try{const e=localStorage.getItem(this.storageKey);return e?JSON.parse(e):[]}catch(e){return console.error("Error reading mock deliveries:",e),[]}}save(e){try{return localStorage.setItem(this.storageKey,JSON.stringify(e)),!0}catch(e){return console.error("Error saving mock deliveries:",e),!1}}create(e){const t=this.getAll(),a={...e,id:Date.now(),created_at:(new Date).toISOString(),scheduled_date:e.scheduled_date||(new Date).toISOString(),status:e.status||"pending",priority:e.priority||"normal"};return t.push(a),this.save(t),a}update(e,t){const a=this.getAll(),s=a.findIndex((t=>t.id===parseInt(e)));if(-1===s)throw new Error("Delivery not found");return a[s]={...a[s],...t,updated_at:(new Date).toISOString()},this.save(a),a[s]}updateStatus(e,t){const a=this.getAll(),s=a.findIndex((t=>t.id===parseInt(e)));if(-1===s)throw new Error("Delivery not found");return a[s].status=t,"delivered"===t&&(a[s].delivered_at=(new Date).toISOString()),this.save(a),a[s]}delete(e){const t=this.getAll().filter((t=>t.id!==parseInt(e)));return this.save(t),!0}syncWithApiCache(){const e={data:this.getAll(),timestamp:Date.now(),expiresAt:Date.now()+3e5};localStorage.setItem("apiCache_/api/deliveries",JSON.stringify(e))}}},41896:function(e,t,a){a.d(t,{vV:function(){return s}}),Error,Error,Error;const s=(e,t={})=>{const a={message:e.message,stack:e.stack,name:e.name,timestamp:(new Date).toISOString(),userAgent:navigator.userAgent,url:window.location.href,...t};return console.error("Production error log:",a),a}},45856:function(e,t,a){a.d(t,{q:function(){return n}});const s=new class{constructor(){this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}emit(e,t){this.events[e]&&this.events[e].forEach((a=>{try{a(t)}catch(t){console.error(`Error in event handler for ${e}:`,t)}}))}clear(e){e?delete this.events[e]:this.events={}}},n={PROVIDER_CREATED:"provider:created",PROVIDER_UPDATED:"provider:updated",PROVIDER_DELETED:"provider:deleted",PRODUCT_CREATED:"product:created",PRODUCT_UPDATED:"product:updated",STOCK_UPDATED:"stock:updated",CACHE_INVALIDATE:"cache:invalidate",AI_ACTION_COMPLETED:"ai:action:completed"};t.A=s},50646:function(e,t,a){a.r(t);const s=new class{constructor(){this.dailyRequestCount=this.getDailyRequestCount(),this.maxDailyRequests=1500,this.geminiApiKey=this.getGeminiApiKey(),this.isGeminiAvailable=!1,this.lastGeminiCheck=null,this.geminiModel="gemini-1.5-flash-latest",this.superBotEnabled=!0,this.superBotEndpoint="/api/superbot",this.responseCache=new Map,this.cacheMaxSize=100,this.cacheMaxAge=36e5,this.geminiApiKey?(console.log("üöÄ Iniciando AIService con Gemini API"),this.checkGeminiAvailability()):console.log("‚ö†Ô∏è AIService iniciando sin Gemini API - usando fallbacks")}getGeminiApiKey(){if("undefined"!=typeof process)return console.log("üîë API Key encontrada en process.env"),"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU";const e=localStorage.getItem("gemini-api-key");return e?(console.log("üîë API Key encontrada en localStorage"),e):(console.log("‚ö†Ô∏è No se encontr√≥ API Key de Gemini"),null)}getDailyRequestCount(){const e=(new Date).toDateString(),t=localStorage.getItem("gemini-usage");if(t){const{date:a,count:s}=JSON.parse(t);if(a===e)return s}return 0}incrementRequestCount(){const e=(new Date).toDateString();this.dailyRequestCount++,localStorage.setItem("gemini-usage",JSON.stringify({date:e,count:this.dailyRequestCount}))}canUseGemini(){return this.geminiApiKey&&this.isGeminiAvailable&&this.dailyRequestCount<this.maxDailyRequests}async checkGeminiAvailability(){if(this.lastGeminiCheck&&Date.now()-this.lastGeminiCheck<36e5)return this.isGeminiAvailable;if(!this.geminiApiKey)return this.isGeminiAvailable=!1,!1;try{const e=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${this.geminiModel}:generateContent?key=${this.geminiApiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:"test"}]}],generationConfig:{temperature:.1,maxOutputTokens:10}})});return this.isGeminiAvailable=401!==e.status&&403!==e.status,this.lastGeminiCheck=Date.now(),this.isGeminiAvailable}catch(e){return console.log("Gemini no disponible:",e.message),this.isGeminiAvailable=!1,this.lastGeminiCheck=Date.now(),!1}}async processMessage(e,t={}){const a={message:"",source:"",canExecuteActions:!1,suggestions:[],fallbackLevel:0};try{if(this.superBotEnabled&&this.isCommandMessage(e)){const s=await this.trySuperBot(e,t);if(s.success)return console.log("ü§ñ Usando SuperBot Venezia para comando espec√≠fico"),{...a,message:s.message,source:"superbot",canExecuteActions:!0,suggestions:s.suggestions||[],fallbackLevel:4,actionExecuted:s.actionExecuted||!1,data:s.data}}if(this.canUseGemini()){const s=await this.tryGeminiAPI(e,t);if(s.success)return console.log("üéâ Usando Gemini AI para respuesta inteligente"),this.incrementRequestCount(),{...a,message:s.message,source:"gemini",canExecuteActions:!0,suggestions:s.suggestions||[],fallbackLevel:3,remainingRequests:this.maxDailyRequests-this.dailyRequestCount,actionExecuted:s.actionExecuted||!1}}const s=await this.tryMockAI(e,t);return s.success?{...a,message:s.message,source:"mock",canExecuteActions:s.canExecuteActions||!1,suggestions:s.suggestions||[],fallbackLevel:2}:{...a,message:this.getFallbackResponse(e),source:"fallback",canExecuteActions:!1,suggestions:this.getFallbackSuggestions(),fallbackLevel:1}}catch(t){return console.error("Error en AIService:",t),{...a,message:this.getFallbackResponse(e),source:"error",canExecuteActions:!1,suggestions:this.getFallbackSuggestions(),fallbackLevel:0}}}async tryGeminiAPI(e,t){try{const a=`${this.buildSystemPrompt(t)}\n\nUsuario: ${e}`,s=this.generateCacheKey(e,t),n=this.getCachedResponse(s);if(n)return console.log("üíæ Usando respuesta cacheada de Gemini"),n;const o=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/${this.geminiModel}:generateContent?key=${this.geminiApiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:a}]}],generationConfig:{temperature:.7,maxOutputTokens:800,topP:.95,topK:40},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_NONE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_NONE"}]})});if(!o.ok)throw new Error(`Gemini API error: ${o.status}`);const r=await o.json(),i=r.candidates?.[0]?.content?.parts?.[0]?.text;if(i){let e=i,a=!1;const n=await this.detectAndExecuteActions(i,t);n.executed&&(e=n.message,a=!0);const o={success:!0,message:e,suggestions:this.extractSuggestions(e),actionExecuted:a};return this.setCachedResponse(s,o),o}throw new Error("No response from Gemini")}catch(e){return console.error("Error con Gemini API:",e),{success:!1,error:e.message}}}async detectAndExecuteActions(e,t){if(!t.executeAction)return{executed:!1,message:e};const a=e.toLowerCase();try{const s=/agregar (\d+) (?:unidades|kg|litros)?\s*(?:al\s*stock\s*de\s*|a\s*)?(.+)/i,n=a.match(s);if(n){const a=parseInt(n[1]),s=n[2].trim(),o=t.businessData?.inventory?.products?.find((e=>e.name.toLowerCase().includes(s.toLowerCase())));if(o){const s=await t.executeAction("add_stock",{productId:o.id,quantity:a,unit:"unidades"});if(s.success)return{executed:!0,message:`${e}\n\nüöÄ **ACCI√ìN EJECUTADA:**\n${s.message}`}}}const o=/crear (?:helado (?:de )?)?(.+?)\s+(?:a\s*)?\$(\d+)/i,r=a.match(o);if(r){const a=r[1].trim(),s=parseInt(r[2]),n=await t.executeAction("create_product",{name:`Helado ${a.charAt(0).toUpperCase()+a.slice(1)}`,price:s,category:"Helado",context:"general",initialStock:0});if(n.success)return{executed:!0,message:`${e}\n\nüöÄ **ACCI√ìN EJECUTADA:**\n${n.message}`}}const i=/cambiar (?:el )?precio (?:de )?(.+?)\s+(?:a\s*)?\$(\d+)/i,c=a.match(i);if(c){const a=c[1].trim(),s=parseInt(c[2]),n=t.businessData?.inventory?.products?.find((e=>e.name.toLowerCase().includes(a.toLowerCase())));if(n){const a=await t.executeAction("update_price",{productId:n.id,newPrice:s});if(a.success)return{executed:!0,message:`${e}\n\nüöÄ **ACCI√ìN EJECUTADA:**\n${a.message}`}}}}catch(e){console.error("Error ejecutando acci√≥n:",e)}return{executed:!1,message:e}}isCommandMessage(e){return[/(?:agregar|a√±adir|suma|sumar)\s+\d+\s*(?:kg|unidades|litros)?\s+(?:de\s+)?/i,/(?:crear|agregar|a√±adir)\s+(?:helado\s+(?:de\s+)?)?.*?\s+(?:a\s+)?\$\d+/i,/(?:cambiar|actualizar|modificar)\s+(?:el\s+)?precio\s+(?:de\s+|del\s+)?.*?\s+(?:a\s+)?\$\d+/i,/¬ø?(?:cu√°nto|cuanto)\s+.*\s+(?:queda|tengo|hay)/i,/(?:productos|stock)\s+(?:con\s+)?(?:poco|bajo)\s+(?:stock)?/i,/(?:registrar|anotar)\s+venta\s+(?:de\s+)?\d+\s+/i,/(?:hacer|producir|preparar)\s+\d+\s+(?:helados?\s+(?:de\s+)?)?/i].some((t=>t.test(e)))}async trySuperBot(e,t){try{const s=(await a.e(7951).then(a.bind(a,87951))).default;return await s.processCommand(e,{...t,executeAction:async(e,a)=>{if(t.executeAction)return await t.executeAction(e,a);try{const t=await fetch("/api/superbot/execute-action",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:e,params:a})});return await t.json()}catch(e){return{success:!1,message:`Error ejecutando acci√≥n: ${e.message}`}}}})}catch(e){return console.error("Error con SuperBot:",e),{success:!1,error:e.message}}}buildSystemPrompt(e){const t=e.businessData||{};return`Eres VenezIA, el asistente inteligente para la helader√≠a Venezia Ice Cream con capacidades SuperBot.\n\nCONTEXTO DE LA HELADER√çA:\n- Productos: Helados artesanales, sabores premium\n- Sistema: Gesti√≥n completa (inventario, ventas, producci√≥n, entregas)\n- Usuario: Due√±o/administrador de la helader√≠a\n\nDATOS EN TIEMPO REAL ACTUALES:\n${t.sales?`\nVENTAS DE HOY:\n- Total vendido: $${t.sales.today.total}\n- N√∫mero de transacciones: ${t.sales.today.transactions}\n- Ticket promedio: $${t.sales.today.avgTicket}\n- Productos m√°s vendidos hoy: ${t.sales.today.topProducts?.map((e=>`${e.name} (${e.units} unidades, $${e.revenue})`)).join(", ")}\n`:""}\n\n${t.inventory?`\nINVENTARIO ACTUAL:\nIngredientes disponibles:\n${t.inventory.ingredients?.map((e=>`- ${e.name}: ${e.quantity} ${e.unit} ${e.quantity<=e.minimum?"‚ö†Ô∏è BAJO":"‚úÖ"}`)).join("\n")}\n\nProductos terminados:\n${t.inventory.products?.map((e=>`- ${e.name}: ${e.stock} unidades (precio: $${e.price}) ${e.stock<=e.minimum?"‚ö†Ô∏è BAJO":"‚úÖ"}`)).join("\n")}\n`:""}\n\n${t.analytics?`\nAN√ÅLISIS:\nSabores m√°s vendidos este mes:\n${t.analytics.bestSellers?.map(((e,t)=>`${t+1}. ${e.name}: ${e.salesThisMonth} unidades`)).join("\n")}\n\nStock bajo que requiere atenci√≥n:\n${t.analytics.lowStock?.map((e=>`- ${e.name}: ${e.quantity||e.stock} ${e.unit||"unidades"} (necesitas ${e.needed} m√°s)`)).join("\n")}\n`:""}\n\nCAPACIDADES QUE TIENES:\n- Usar los datos REALES mostrados arriba (no inventes n√∫meros)\n- Analizar tendencias de ventas y stock\n- Hacer recomendaciones basadas en datos reales\n- Ayudar con decisiones de negocio\n\nCAPACIDADES DE EJECUCI√ìN SUPERBOT:\n- Puedes ejecutar acciones reales en el sistema autom√°ticamente\n- Acciones disponibles: agregar stock, crear productos, cambiar precios, registrar ventas, crear √≥rdenes de producci√≥n\n- Integraci√≥n con SuperBot Venezia para comandos de voz y texto natural\n- Detecci√≥n autom√°tica de comandos espec√≠ficos y ejecuci√≥n inteligente\n- Sistema de confirmaci√≥n configurable por el usuario\n\nINSTRUCCIONES IMPORTANTES:\n1. SIEMPRE usa los datos reales proporcionados arriba\n2. NO inventes n√∫meros o datos que no est√°n en el contexto\n3. Responde en espa√±ol de manera natural y amigable\n4. S√© espec√≠fico con los n√∫meros reales del negocio\n5. Menciona alertas de stock bajo cuando sea relevante\n6. Proporciona an√°lisis √∫tiles basados en los datos reales\n7. Cuando detectes una solicitud de acci√≥n, pregunta confirmaci√≥n antes de ejecutar\n\nEJEMPLOS DE ACCIONES EJECUTABLES SUPERBOT:\n- "Agregar 10 kg de chocolate" ‚Üí Detectar y ejecutar add_stock autom√°ticamente\n- "Crear helado de pistacho $5000" ‚Üí Detectar y ejecutar create_product\n- "Cambiar precio del helado de vainilla a $4800" ‚Üí Detectar y ejecutar update_price\n- "Registrar venta de 3 helados de fresa" ‚Üí Detectar y ejecutar register_sale\n- "Hacer 20 helados de chocolate" ‚Üí Detectar y ejecutar create_production_order\n- "¬øCu√°nto chocolate queda?" ‚Üí Consultar stock autom√°ticamente\n- "Productos con stock bajo" ‚Üí Mostrar alertas autom√°ticamente\n\nResponde al usuario de manera √∫til y pr√°ctica usando SOLO los datos reales proporcionados:`}async tryMockAI(e,t){try{const s=(await a.e(2076).then(a.bind(a,42693))).default,n=await s.chatResponse(e,t.history||[]);return{success:!0,message:n,canExecuteActions:this.detectExecutableActions(e),suggestions:this.extractSuggestionsFromMock(n)}}catch(e){return console.error("Error con MockAI:",e),{success:!1,error:e.message}}}detectExecutableActions(e){const t=e.toLowerCase();return["suma","agrega","agregar","a√±adir","incrementar","crea","crear","nuevo","nueva","cambia","cambiar","actualizar","modificar","precio","precios","stock","inventario"].some((e=>t.includes(e)))}extractSuggestions(e,t=null){return this.extractIntelligentSuggestions(e,t)}extractSuggestionsFromMock(e){return e.includes("stock")||e.includes("inventario")?["Ver stock completo","Agregar stock","Productos con stock bajo"]:e.includes("precio")||e.includes("ventas")?["Cambiar precios","Ver ventas del d√≠a","Productos m√°s vendidos"]:["Gestionar stock","Crear producto","Ver reportes"]}getFallbackResponse(e){const t=e.toLowerCase();return t.includes("stock")||t.includes("inventario")?'üì¶ **Para gestionar tu stock:**\n\n1Ô∏è‚É£ **Ver stock**: Haz clic en "Inventario" en el men√∫ lateral\n2Ô∏è‚É£ **Agregar stock**: Usa el bot√≥n "+ Agregar Stock" en la p√°gina de inventario\n3Ô∏è‚É£ **Stock bajo**: Los productos con poco stock aparecen marcados en rojo\n\nüí° *Tip: Para comandos r√°pidos, escribe exactamente "suma 5 kg de chocolate"*':t.includes("venta")||t.includes("vendi")?'üìà **Para ver tus ventas:**\n\n1Ô∏è‚É£ **Ventas del d√≠a**: Ve a "Ventas" en el men√∫ lateral\n2Ô∏è‚É£ **Reportes**: Usa el bot√≥n "Generar Reporte" para estad√≠sticas\n3Ô∏è‚É£ **Productos m√°s vendidos**: Aparecen destacados en el dashboard\n\nüí° *Tip: El dashboard muestra un resumen r√°pido de todo*':t.includes("producto")||t.includes("crear")||t.includes("agregar")?'üç® **Para gestionar productos:**\n\n1Ô∏è‚É£ **Crear producto**: Ve a "Productos" ‚Üí "+ Nuevo Producto"\n2Ô∏è‚É£ **Editar precios**: Haz clic en el producto ‚Üí "Editar"\n3Ô∏è‚É£ **Activar/Desactivar**: Usa el switch junto a cada producto\n\nüí° *Tip: Para crear r√°pido, escribe "crear helado de menta $4500"*':'ü§ñ **Sistema en Modo Asistido**\n\nüéØ **Acciones r√°pidas disponibles:**\n‚Ä¢ üì¶ Ver inventario ‚Üí Men√∫ "Inventario"\n‚Ä¢ üìà Revisar ventas ‚Üí Men√∫ "Ventas" \n‚Ä¢ üç® Crear productos ‚Üí Men√∫ "Productos"\n‚Ä¢ üöö Gestionar entregas ‚Üí Men√∫ "Entregas"\n\nüí° **Comandos que puedes usar:**\n‚Ä¢ "suma 10 kg de [producto]"\n‚Ä¢ "crear helado de [sabor] $[precio]"\n‚Ä¢ "ventas de hoy"\n\n‚ÑπÔ∏è *Para activar el asistente inteligente, contacta al administrador*'}getFallbackSuggestions(){return["üßô‚Äç‚ôÇÔ∏è Usar Modo Guiado","üì¶ Gestionar Stock","üç¶ Crear Producto","üí∞ Cambiar Precios"]}setGeminiApiKey(e){return e&&e.trim()?(this.geminiApiKey=e.trim(),localStorage.setItem("gemini-api-key",this.geminiApiKey),this.checkGeminiAvailability(),!0):(this.geminiApiKey=null,localStorage.removeItem("gemini-api-key"),this.isGeminiAvailable=!1,!1)}configureSuperBot(e=!0,t={}){return this.superBotEnabled=e,t.endpoint&&(this.superBotEndpoint=t.endpoint),{enabled:this.superBotEnabled,endpoint:this.superBotEndpoint}}getTimeOfDay(e){const t=e.getHours();return t>=6&&t<12?"Ma√±ana":t>=12&&t<17?"Tarde":t>=17&&t<21?"Noche":"Madrugada"}extractIntelligentSuggestions(e,t){const a=[],s=e.toLowerCase();if(t?.analytics?.lowStockProducts?.length>0&&t.analytics.lowStockProducts.slice(0,2).forEach((e=>{a.push(`Reponer ${e.name}`)})),t?.sales?.today?.total>0&&(a.push("Ver productos m√°s vendidos hoy"),a.push("Analizar tendencias de venta")),(s.includes("stock")||s.includes("inventario"))&&(a.push("Configurar alertas autom√°ticas"),a.push("Generar orden de compra")),(s.includes("precio")||s.includes("venta"))&&(a.push("Analizar m√°rgenes de ganancia"),a.push("Optimizar precios por demanda")),a.length<3){const e=this.getTimeBasedSuggestions();a.push(...e.slice(0,3-a.length))}return a.slice(0,4)}getTimeBasedSuggestions(){const e=(new Date).getHours();return e>=6&&e<10?["Preparar stock para el d√≠a","Revisar productos frescos","Verificar equipos de refrigeraci√≥n"]:e>=10&&e<14?["Monitorear ventas matutinas","Ajustar producci√≥n para tarde","Verificar sabores populares"]:e>=14&&e<18?["Analizar pico de ventas","Reponer stock de productos populares","Preparar para cierre"]:["Revisar ventas del d√≠a","Planificar producci√≥n ma√±ana","Generar reporte diario"]}getServiceStatus(){const e={geminiAvailable:this.isGeminiAvailable,dailyRequests:this.dailyRequestCount,remainingRequests:this.maxDailyRequests-this.dailyRequestCount,hasApiKey:!!this.geminiApiKey,currentLevel:this.canUseGemini()?this.superBotEnabled?4:3:this.superBotEnabled?3:2,superBotEnabled:this.superBotEnabled,apiKeySource:this.geminiApiKey?localStorage.getItem("gemini-api-key")?"manual":"configured":"none",geminiModel:this.geminiModel,cacheSize:this.responseCache.size,debug:{geminiApiKey:this.geminiApiKey?`${this.geminiApiKey.substring(0,10)}...`:"none",processEnv:"undefined"!=typeof process?"available":"not available",localStorage:"undefined"!=typeof localStorage?"available":"not available",lastGeminiCheck:this.lastGeminiCheck,canUseGemini:this.canUseGemini(),superBotStatus:this.superBotEnabled?"enabled":"disabled"}};return console.log("üîç Estado actual del AIService:",e),e}generateCacheKey(e,t){const a=JSON.stringify({model:t.currentModel||"default",hasBusinessData:!!t.businessData,lastMessages:t.history?.slice(-2).map((e=>e.content))||[]});return`${e.toLowerCase().trim()}_${a}`}getCachedResponse(e){const t=this.responseCache.get(e);return t?Date.now()-t.timestamp>this.cacheMaxAge?(this.responseCache.delete(e),null):t.data:null}setCachedResponse(e,t){if(this.responseCache.size>=this.cacheMaxSize){const e=this.responseCache.keys().next().value;this.responseCache.delete(e)}this.responseCache.set(e,{data:t,timestamp:Date.now()})}clearCache(){this.responseCache.clear(),console.log("üßπ Cache de respuestas limpiado")}};t.default=s},53120:function(e,t,a){a.d(t,{Cb:function(){return n},yv:function(){return o}});const s=new class{constructor(e=100,t=36e5){this.cache=new Map,this.maxSize=e,this.ttl=t,this.stats={hits:0,misses:0,evictions:0}}generateKey(e,t=[]){const a=t.slice(-5).map((e=>e.content)).join("|");return`${e.toLowerCase().trim()}::${a}`}get(e,t){const a=this.generateKey(e,t),s=this.cache.get(a);return s?Date.now()-s.timestamp>this.ttl?(this.cache.delete(a),this.stats.misses++,null):(this.stats.hits++,s.lastAccessed=Date.now(),s.response):(this.stats.misses++,null)}set(e,t,a){const s=this.generateKey(e,t);if(this.cache.size>=this.maxSize){const e=this.findOldestEntry();e&&(this.cache.delete(e),this.stats.evictions++)}this.cache.set(s,{response:a,timestamp:Date.now(),lastAccessed:Date.now()})}findOldestEntry(){let e=null,t=1/0;for(const[a,s]of this.cache.entries())s.lastAccessed<t&&(t=s.lastAccessed,e=a);return e}clear(){this.cache.clear(),this.stats={hits:0,misses:0,evictions:0}}getStats(){const e=this.stats.hits+this.stats.misses>0?(this.stats.hits/(this.stats.hits+this.stats.misses)*100).toFixed(2):0;return{...this.stats,size:this.cache.size,hitRate:`${e}%`}}cleanup(){const e=Date.now();let t=0;for(const[a,s]of this.cache.entries())e-s.timestamp>this.ttl&&(this.cache.delete(a),t++);return t}},n=(e,t)=>s.get(e,t),o=(e,t,a)=>{s.set(e,t,a)}},55467:function(e,t,a){a.d(t,{n:function(){return i}});var s=a(81621),n=a(87134),o=a(71083);const r=(0,s.vt)((0,n.Zr)(((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,sidebarOpen:!0,darkMode:!1,login:async t=>{e({isLoading:!0});try{const a=await o.A.post("/api/auth/login",t),{user:s,token:n}=a.data;return o.A.defaults.headers.common.Authorization=`Bearer ${n}`,e({user:s,isAuthenticated:!0,isLoading:!1}),{success:!0}}catch(t){return e({isLoading:!1}),{success:!1,error:t.response?.data?.message||"Error de autenticaci√≥n"}}},logout:async()=>{try{await o.A.post("/api/auth/logout")}catch(e){console.error("Error en logout:",e)}finally{delete o.A.defaults.headers.common.Authorization,e({user:null,isAuthenticated:!1,isLoading:!1})}},checkAuth:async()=>{e({isLoading:!0});try{const t=await o.A.get("/api/auth/check");t.data.authenticated?e({user:t.data.user,isAuthenticated:!0,isLoading:!1}):e({user:null,isAuthenticated:!1,isLoading:!1})}catch(t){if(console.error("Error verificando autenticaci√≥n:",t),"localhost"===window.location.hostname)console.warn("‚ö†Ô∏è Backend no disponible, usando modo desarrollo"),e({user:{id:1,username:"dev",name:"Modo Desarrollo",email:"dev@venezia.com"},isAuthenticated:!0,isLoading:!1});else try{const t=await o.A.get("/api/auth/me");e({user:t.data.user,isAuthenticated:!0,isLoading:!1})}catch(t){console.error("Fallback auth check fall√≥:",t),e({user:null,isAuthenticated:!1,isLoading:!1})}}},setSidebarOpen:t=>e({sidebarOpen:t}),toggleSidebar:()=>e((e=>({sidebarOpen:!e.sidebarOpen}))),setDarkMode:t=>{e({darkMode:t}),t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleDarkMode:()=>{const e=!t().darkMode;t().setDarkMode(e)},updateUser:async t=>{e({isLoading:!0});try{const a=await o.A.put("/api/auth/profile",t);return e({user:a.data.user,isLoading:!1}),{success:!0}}catch(t){return e({isLoading:!1}),{success:!1,error:t.response?.data?.message||"Error actualizando perfil"}}}})),{name:"venezia-auth",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated,sidebarOpen:e.sidebarOpen,darkMode:e.darkMode})}));o.A.interceptors.response.use((e=>e),(e=>(401===e.response?.status&&r.getState().logout(),Promise.reject(e))));const i=r},67707:function(e,t,a){a.d(t,{n:function(){return r}});var s=a(81621),n=a(87134),o=a(91031);const r=(0,s.vt)((0,n.Zr)(((e,t)=>({user:null,session:null,isAuthenticated:!1,isLoading:!0,darkMode:!1,sidebarOpen:!0,initAuth:async()=>{try{e({isLoading:!0});const{session:t,error:a}=await o.fD.getSession();if(a)throw a;if(t){let a=null;try{const{data:e,error:s}=await o.ND.from("users").select("\n                  *,\n                  organizations!organization_id(*)\n                ").eq("id",t.user.id).maybeSingle();!s&&e?(a=e,a.branch_access=a.branch_access||[],a.role_per_branch=a.role_per_branch||{}):s&&"406"===s.code&&console.warn("User profile not found in database, using session data")}catch(e){console.warn("Could not fetch user profile from custom table:",e)}const s=a||{...t.user,email:t.user.email,name:t.user.email?.split("@")[0]||"Usuario",role:"user",branch_access:[],role_per_branch:{}};e({user:s,session:t,isAuthenticated:!0,isLoading:!1})}else e({user:null,session:null,isAuthenticated:!1,isLoading:!1})}catch(t){console.error("Auth initialization error:",t),e({user:null,session:null,isAuthenticated:!1,isLoading:!1})}},login:async(t,a)=>{try{const{data:s,error:n}=await o.fD.signIn(t,a);if(n)throw n;const{data:r}=await o.ND.from("users").select("*").eq("id",s.user.id).single();return e({user:r||s.user,session:s.session,isAuthenticated:!0}),{success:!0}}catch(e){return console.error("Login error:",e),{success:!1,error:e.message||"Error al iniciar sesi√≥n"}}},logout:async()=>{try{const{error:t}=await o.fD.signOut();if(t)throw t;e({user:null,session:null,isAuthenticated:!1}),window.location.href="/login"}catch(e){console.error("Logout error:",e)}},updateUser:async a=>{try{const s=t().user?.id;if(!s)throw new Error("No user logged in");const{data:n,error:r}=await o.ND.from("users").update(a).eq("id",s).select().single();if(r)throw r;return e({user:n}),{success:!0}}catch(e){return console.error("Update user error:",e),{success:!1,error:e.message}}},checkAuth:async()=>{await t().initAuth()},toggleDarkMode:()=>{e((e=>({darkMode:!e.darkMode})))},setDarkMode:t=>{e({darkMode:t})},toggleSidebar:()=>{e((e=>({sidebarOpen:!e.sidebarOpen})))},setSidebarOpen:t=>{e({sidebarOpen:t})},subscribeToAuthChanges:()=>{const{data:{subscription:t}}=o.ND.auth.onAuthStateChange((async(t,a)=>{if(console.log("Auth state changed:",t),"SIGNED_IN"===t||"TOKEN_REFRESHED"===t){if(a){const{data:t}=await o.ND.from("users").select("*").eq("id",a.user.id).single();e({user:t||a.user,session:a,isAuthenticated:!0})}}else"SIGNED_OUT"===t&&e({user:null,session:null,isAuthenticated:!1})}));return t}})),{name:"venezia-auth",partialize:e=>({darkMode:e.darkMode,sidebarOpen:e.sidebarOpen})}))},80082:function(e,t){t.A=class{static async delay(e=500){return new Promise((t=>setTimeout(t,e+500*Math.random())))}static async getDashboardOverview(){return await this.delay(),{today:{sales:15420,orders:89,customers:67,delivery_orders:23},yesterday:{sales:13240,orders:78,customers:58,delivery_orders:18},weekly_sales:[{day:"Lun",amount:8500},{day:"Mar",amount:9200},{day:"Mi√©",amount:11400},{day:"Jue",amount:12100},{day:"Vie",amount:15420},{day:"S√°b",amount:18900},{day:"Dom",amount:16300}],top_products:[{name:"Chocolate con Almendras",sales:45,revenue:2250},{name:"Vainilla Premium",sales:38,revenue:1900},{name:"Frutilla Natural",sales:35,revenue:1750},{name:"Dulce de Leche",sales:32,revenue:1600},{name:"Mint Chip",sales:28,revenue:1400}],recent_orders:[{id:1234,customer:"Mar√≠a Gonz√°lez",items:3,total:450,status:"completed",time:"14:35"},{id:1233,customer:"Carlos Ruiz",items:2,total:380,status:"in_progress",time:"14:20"},{id:1232,customer:"Ana L√≥pez",items:4,total:620,status:"pending",time:"14:15"}],low_stock_alerts:[{product:"Chocolate Belga",current:5,minimum:20,urgency:"high"},{product:"Vainilla Bourbon",current:12,minimum:25,urgency:"medium"},{product:"Pistache Premium",current:8,minimum:15,urgency:"low"}],performance_metrics:{sales_growth:16.4,customer_satisfaction:94.5,order_fulfillment:98.2,inventory_turnover:85.7}}}static async getSales(e={}){await this.delay();const t=[],a=new Date;for(let e=0;e<50;e++){const s=new Date(a);s.setDate(a.getDate()-Math.floor(30*Math.random())),t.push({id:1200+e,date:s.toISOString(),customer_name:this.generateCustomerName(),customer_phone:`+54 11 ${Math.floor(9e3*Math.random())+1e3}-${Math.floor(9e3*Math.random())+1e3}`,items:[{product_name:this.generateProductName(),quantity:Math.floor(3*Math.random())+1,price:Math.floor(200*Math.random())+100,flavor:this.generateFlavor()}],total:Math.floor(800*Math.random())+200,status:this.generateOrderStatus(),payment_method:this.generatePaymentMethod(),store_id:Math.floor(3*Math.random())+1,is_delivery:Math.random()>.7})}return t.sort(((e,t)=>new Date(t.date)-new Date(e.date)))}static async getProductionOrders(){return await this.delay(),[{id:145,recipe_name:"Chocolate Premium",quantity:50,status:"in_progress",progress:80,start_date:"2025-07-03T08:00:00Z",estimated_completion:"2025-07-03T16:00:00Z",assigned_to:"Juan P√©rez",priority:"high"},{id:146,recipe_name:"Vainilla Bourbon",quantity:35,status:"in_progress",progress:45,start_date:"2025-07-03T10:00:00Z",estimated_completion:"2025-07-03T18:00:00Z",assigned_to:"Mar√≠a Garc√≠a",priority:"medium"},{id:147,recipe_name:"Frutilla Natural",quantity:40,status:"pending",progress:0,start_date:null,estimated_completion:null,assigned_to:null,priority:"low"}]}static async getProductionBatches(){return await this.delay(),[{id:"BATCH-2025-001",product:"Chocolate con Almendras",quantity:50,status:"completed",quality_score:95,start_time:"2025-07-02T08:00:00Z",end_time:"2025-07-02T16:30:00Z",operator:"Juan P√©rez"},{id:"BATCH-2025-002",product:"Vainilla Premium",quantity:40,status:"in_progress",quality_score:null,start_time:"2025-07-03T09:00:00Z",end_time:null,operator:"Mar√≠a Garc√≠a"}]}static async getInventory(){return await this.delay(),["Chocolate Belga","Vainilla Bourbon","Frutilla Natural","Dulce de Leche","Mint Chip","Pistache Premium","Lim√≥n Natural","Coco Rayado","Chocolate Blanco","Caf√© Espresso","Banana Split","Mango Tropical"].map(((e,t)=>({id:t+1,name:e,current_stock:Math.floor(80*Math.random())+5,minimum_stock:20,maximum_stock:100,unit_cost:Math.floor(50*Math.random())+25,last_updated:(new Date).toISOString(),store_id:Math.floor(3*Math.random())+1,category:"helados"})))}static async getAnalytics(e="sales",t={}){switch(await this.delay(),e){case"sales":return{total_sales:145230,total_orders:892,avg_ticket:163,sales_growth:18.5,orders_growth:12.3,ticket_growth:5.5,by_store:[{name:"Centro",revenue:65420,orders:420,avg_ticket:156},{name:"Norte",revenue:48900,orders:312,avg_ticket:157},{name:"Sur",revenue:30910,orders:160,avg_ticket:193}],sales_by_period:this.generateTimeSeriesData(30)};case"products":return{top_products:[{name:"Chocolate con Almendras",units_sold:245,revenue:12250,percentage:22.5},{name:"Vainilla Premium",units_sold:198,revenue:9900,percentage:18.2},{name:"Frutilla Natural",units_sold:176,revenue:8800,percentage:16.1},{name:"Dulce de Leche",units_sold:154,revenue:7700,percentage:14.1},{name:"Mint Chip",units_sold:132,revenue:6600,percentage:12.1}]};case"customers":return{unique_customers:425,customers_growth:15.8,new_customers:89,returning_customers:336,customer_retention:79.2,avg_orders_per_customer:2.1,customer_segments:[{segment:"VIP",count:45,revenue:45600,avg_ticket:320},{segment:"Frecuente",count:156,revenue:78e3,avg_ticket:250},{segment:"Ocasional",count:224,revenue:56800,avg_ticket:127}],top_customers:[{name:"Mar√≠a Gonz√°lez",orders:15,revenue:4500,last_order:"2025-07-02"},{name:"Carlos Ruiz",orders:12,revenue:3800,last_order:"2025-07-03"},{name:"Ana L√≥pez",orders:11,revenue:3200,last_order:"2025-07-01"}]};default:return{}}}static async getAnalyticsExport(e={}){await this.delay(1e3);const t=this.generateMockPDFContent(e);return new Blob([t],{type:"application/pdf"})}static generateMockPDFContent(e){return`%PDF-1.4\n1 0 obj\n<< /Type /Catalog /Pages 2 0 R >>\nendobj\n\n2 0 obj\n<< /Type /Pages /Kids [3 0 R] /Count 1 >>\nendobj\n\n3 0 obj\n<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Contents 4 0 R >>\nendobj\n\n4 0 obj\n<< /Length 44 >>\nstream\nBT\n/F1 12 Tf\n100 700 Td\n(Reporte Analytics Venezia - ${(new Date).toLocaleDateString()}) Tj\nET\nendstream\nendobj\n\nxref\n0 5\n0000000000 65535 f \n0000000009 00000 n \n0000000058 00000 n \n0000000115 00000 n \n0000000214 00000 n \ntrailer\n<< /Size 5 /Root 1 0 R >>\nstartxref\n308\n%%EOF`}static async getReports(e,t={}){switch(await this.delay(),e){case"sales":return{total_revenue:145230,total_orders:892,avg_order_value:163,sales_by_period:this.generateTimeSeriesData(30),top_products:this.generateTopProducts(),sales_detail:this.generateSalesDetail()};case"inventory":return{total_value:45230,low_stock_count:8,value_by_category:[{name:"Helados Premium",value:25600},{name:"Helados Tradicionales",value:12400},{name:"Sabores Especiales",value:7230}],stock_movements:this.generateStockMovements(),low_stock_items:this.generateLowStockItems()};default:return{}}}static generateCustomerName(){const e=["Mar√≠a","Carlos","Ana","Luis","Carmen","Jorge","Isabel","Roberto"],t=["Gonz√°lez","Rodr√≠guez","L√≥pez","Mart√≠nez","Garc√≠a","P√©rez","S√°nchez","Ruiz"];return`${e[Math.floor(Math.random()*e.length)]} ${t[Math.floor(Math.random()*t.length)]}`}static generateProductName(){const e=["1/4 kg","1/2 kg","1 kg","Palito","Cono","Sundae"];return e[Math.floor(Math.random()*e.length)]}static generateFlavor(){const e=["Chocolate","Vainilla","Frutilla","Dulce de Leche","Mint Chip","Pistache"];return e[Math.floor(Math.random()*e.length)]}static generateOrderStatus(){const e=["completed","in_progress","pending","cancelled"],t=[.7,.15,.1,.05],a=Math.random();let s=0;for(let n=0;n<e.length;n++)if(s+=t[n],a<s)return e[n];return"completed"}static generatePaymentMethod(){const e=["efectivo","tarjeta","mercadopago","transferencia"];return e[Math.floor(Math.random()*e.length)]}static generateTimeSeriesData(e){const t=[],a=new Date;for(let s=e;s>=0;s--){const e=new Date(a);e.setDate(a.getDate()-s),t.push({date:e.toISOString().split("T")[0],value:Math.floor(5e3*Math.random())+8e3,label:e.toLocaleDateString("es-AR",{month:"short",day:"numeric"})})}return t}static generateTopProducts(){return[{name:"Chocolate con Almendras",sales:245,revenue:12250},{name:"Vainilla Premium",sales:198,revenue:9900},{name:"Frutilla Natural",sales:176,revenue:8800},{name:"Dulce de Leche",sales:154,revenue:7700},{name:"Mint Chip",sales:132,revenue:6600}]}static generateSalesDetail(){const e=[];for(let t=0;t<20;t++)e.push({date:new Date(Date.now()-30*Math.random()*24*60*60*1e3).toISOString(),order_id:1200+t,customer:this.generateCustomerName(),products:Math.floor(4*Math.random())+1,total:Math.floor(800*Math.random())+200,status:this.generateOrderStatus()});return e}static generateStockMovements(){return[{date:"2025-07-01",type:"entrada",product:"Chocolate Belga",quantity:50,reason:"Producci√≥n"},{date:"2025-07-02",type:"salida",product:"Vainilla Premium",quantity:25,reason:"Venta"},{date:"2025-07-03",type:"entrada",product:"Frutilla Natural",quantity:30,reason:"Producci√≥n"}]}static generateLowStockItems(){return[{name:"Chocolate Belga",current_stock:5,min_stock:20,value:250,last_movement:"2025-07-01"},{name:"Pistache Premium",current_stock:8,min_stock:15,value:480,last_movement:"2025-07-02"},{name:"Caf√© Espresso",current_stock:12,min_stock:25,value:360,last_movement:"2025-07-03"}]}static async addInventory(e){return await this.delay(800),{success:!0,message:"Inventario actualizado correctamente",data:{product:e.product,quantity_added:e.quantity,unit:e.unit,new_stock:Math.floor(50*Math.random())+e.quantity,timestamp:(new Date).toISOString(),updated_by:"AI Assistant"}}}static async createProductionOrder(e){return await this.delay(1200),{success:!0,message:"Orden de producci√≥n creada exitosamente",data:{batch_id:"BATCH-"+Date.now(),recipe_name:e.recipe_name,quantity:e.quantity,priority:e.priority,status:"pending",estimated_completion:new Date(Date.now()+60*e.quantity*60*1e3).toISOString(),created_by:e.requested_by,timestamp:(new Date).toISOString()}}}static async createSalesOrder(e){return await this.delay(1e3),{success:!0,message:"Orden de venta creada exitosamente",data:{order_id:Math.floor(9e3*Math.random())+1e3,customer:e.customer,items:e.items,total:e.total,payment_method:e.payment_method,is_delivery:e.is_delivery,status:"pending",created_by:"AI Assistant",timestamp:(new Date).toISOString()}}}static async getAvailableDrivers(){return await this.delay(500),{success:!0,drivers:[{id:1,name:"Juan P√©rez",vehicle:"Moto Honda",available:!0,current_orders:2},{id:2,name:"Mar√≠a Garc√≠a",vehicle:"Auto Fiat",available:!0,current_orders:1},{id:3,name:"Carlos L√≥pez",vehicle:"Bicicleta",available:!1,current_orders:0},{id:4,name:"Ana Rodr√≠guez",vehicle:"Moto Yamaha",available:!0,current_orders:3}]}}static async getDeliveries(){await this.delay();const e=new Date,t=new Date(e);t.setDate(e.getDate()-1);const a=new Date(e);a.setDate(e.getDate()+1);const s=[],n=["Mar√≠a Gonz√°lez","Carlos L√≥pez","Ana Mart√≠nez","Luis P√©rez","Carmen Silva","Jorge Rodr√≠guez","Isabel Garc√≠a","Roberto D√≠az","Laura Fern√°ndez","Diego Morales"],o=["San Nicol√°s","Recoleta","Palermo","Villa Crespo","Barracas","La Boca","Puerto Madero","Belgrano","N√∫√±ez","Caballito"],r=["Av. Corrientes","Santa Fe","Av. Cabildo","Rivadavia","Callao","Florida","Lavalle","Paraguay","Uruguay","Brasil"],i=["pending","assigned","in_transit","delivered","failed"],c=["normal","high","urgent"],l=[{name:"1/4 kg Chocolate",price:250},{name:"1/2 kg Vainilla",price:450},{name:"1 kg Dulce de Leche",price:850},{name:"Palito Frutilla",price:150},{name:"Cono Triple",price:320},{name:"Sundae Especial",price:480}];for(let d=1;d<=25;d++){let u;d<=8?u=e:d<=12?u=a:d<=16?u=t:(u=new Date(e),u.setDate(e.getDate()+Math.floor(7*Math.random())-3));const m=n[Math.floor(Math.random()*n.length)],p=o[Math.floor(Math.random()*o.length)],h=r[Math.floor(Math.random()*r.length)],g=Math.floor(9e3*Math.random())+1e3,_=Math.floor(3*Math.random())+1,y=[];let v,b=0;for(let e=0;e<_;e++){const e=l[Math.floor(Math.random()*l.length)],t=Math.floor(2*Math.random())+1;y.push({product_name:e.name,quantity:t,price:e.price,subtotal:e.price*t}),b+=e.price*t}v=u.toDateString()===e.toDateString()?i[Math.floor(3*Math.random())]:u<e?Math.random()>.2?"delivered":"failed":"pending",s.push({id:d,order_number:1200+d,customer_name:m,customer_phone:`+54 11 ${Math.floor(9e3*Math.random())+1e3}-${Math.floor(9e3*Math.random())+1e3}`,address:{street:h,number:g.toString(),neighborhood:p,city:"Buenos Aires",instructions:Math.random()>.5?["Timbre B","Portero","PB departamento A","Casa azul","Hablar por portero"][Math.floor(5*Math.random())]:null},driver_id:"pending"===v?null:Math.floor(4*Math.random())+1,driver_name:"pending"===v?null:["Juan P√©rez","Mar√≠a Garc√≠a","Carlos L√≥pez","Ana Rodr√≠guez"][Math.floor(4*Math.random())],status:v,priority:c[Math.floor(Math.random()*c.length)],scheduled_date:u.toISOString().split("T")[0],scheduled_time:`${Math.floor(12*Math.random())+8}:${["00","15","30","45"][Math.floor(4*Math.random())]}`,estimated_time:`${Math.floor(30*Math.random())+15}-${Math.floor(30*Math.random())+30} min`,items:y,total_amount:b,notes:Math.random()>.7?["Entregar en horario de almuerzo","Llamar antes de llegar","Cuidado con el perro","Casa con rejas verdes"][Math.floor(4*Math.random())]:null,created_at:new Date(u.getTime()-24*Math.random()*60*60*1e3).toISOString()})}return s.sort(((e,t)=>new Date(t.created_at)-new Date(e.created_at)))}static async createDeliveryOrder(e={}){await this.delay(1e3);const t=Math.floor(9e3*Math.random())+1e3;return{success:!0,message:"Orden de delivery creada exitosamente",receipt_number:`R-${(new Date).getFullYear()}-${t}`,sale:{id:t,total:e.total||(500*Math.random()+200).toFixed(2),items:e.items||[],customer:e.customer||{name:"Cliente General"},payment_method:e.payment_method||"cash",created_at:(new Date).toISOString()},delivery:{id:t+1e4,estimated_time:e.estimated_time||"30-45 minutos",delivery_address:e.delivery_address||"Direcci√≥n no especificada",delivery_phone:e.delivery_phone||"No especificado",status:"pending",driver_id:null,notes:e.notes||null},stock_updated:e.items?e.items.map((e=>({product_id:e.product_id,quantity_sold:e.quantity,new_stock:Math.floor(50*Math.random())+10}))):[]}}static getMockData(e){switch(console.log(`üì¶ Obteniendo datos mock para: ${e}`),e){case"/api/deliveries":return this.getDeliveries();case"/api/deliveries/active":return this.getDeliveries().filter((e=>["pending","assigned","in_transit"].includes(e.status)));case"/api/pos/live-metrics":return{data:{todaySales:2750.5,salesCount:18,avgTicket:152.81,itemsSold:47,efficiency:2.8,deliveries:{total:12,pending:3,in_transit:2}}};case"/api/pos/create-delivery-order":return this.createDeliveryOrder();case"/api/drivers":return[{id:1,name:"Juan P√©rez",vehicle:"Moto Honda",available:!0,current_orders:2},{id:2,name:"Mar√≠a Garc√≠a",vehicle:"Auto Fiat",available:!0,current_orders:1},{id:3,name:"Carlos L√≥pez",vehicle:"Bicicleta",available:!1,current_orders:0},{id:4,name:"Ana Rodr√≠guez",vehicle:"Moto Yamaha",available:!0,current_orders:3}];case"/api/sales":return{sales:[{id:1234,customer_name:"Mar√≠a Gonz√°lez",customer_phone:"+54 11 1234-5678",total:450,delivery_id:null,status:"completed",created_at:(new Date).toISOString()},{id:1235,customer_name:"Carlos L√≥pez",customer_phone:"+54 11 5678-1234",total:320,delivery_id:null,status:"pending",created_at:(new Date).toISOString()}]};case"/api/products":return[{id:1,name:"Helado de Chocolate",price:85.5,category_id:1,category:"Helado",description:"Delicioso helado de chocolate premium",current_stock:25,minimum_stock:10},{id:2,name:"Helado de Vainilla",price:80,category_id:1,category:"Helado",description:"Cremoso helado de vainilla natural",current_stock:30,minimum_stock:10},{id:3,name:"Cono de Waffle",price:25,category_id:2,category:"Complementos",description:"Cono crujiente de waffle artesanal",current_stock:50,minimum_stock:20},{id:4,name:"Topping de Granillo",price:15,category_id:2,category:"Complementos",description:"Granillo de chocolate colorido",current_stock:40,minimum_stock:15},{id:5,name:"Batido de Frutilla",price:120,category_id:3,category:"Bebidas",description:"Batido cremoso con frutillas frescas",current_stock:20,minimum_stock:5}];case"/api/categories":return[{id:1,name:"Helado",description:"Helados artesanales"},{id:2,name:"Complementos",description:"Conos, toppings y extras"},{id:3,name:"Bebidas",description:"Batidos y bebidas heladas"}];case"/api/customers":return[{id:1,name:"Mar√≠a Gonz√°lez",phone:"+54 11 1234-5678",email:"maria@email.com",address:"Av. Corrientes 1234",total_orders:15,total_spent:2340.5},{id:2,name:"Carlos L√≥pez",phone:"+54 11 5678-1234",email:"carlos@email.com",address:"Calle Falsa 123",total_orders:8,total_spent:1200.75}];case"/api/sales/recent?limit=5":return[{id:1234,customer_name:"Mar√≠a Gonz√°lez",items_count:3,total:285.5,created_at:(new Date).toISOString(),items_preview:"Chocolate x2, Cono x1"},{id:1233,customer_name:"Carlos L√≥pez",items_count:2,total:170,created_at:new Date(Date.now()-18e5).toISOString(),items_preview:"Vainilla x1, Batido x1"}];case"/api/cashflow/status":return{available:1250.75,daily_income:2750.5,daily_expenses:890.25};case"/api/ingredients":return[{id:1,name:"Leche Entera",unit:"L",current_stock:50,minimum_stock:20,unit_cost:2.5},{id:2,name:"Crema de Leche",unit:"L",current_stock:30,minimum_stock:15,unit_cost:4.8},{id:3,name:"Az√∫car",unit:"kg",current_stock:25,minimum_stock:10,unit_cost:1.2},{id:4,name:"Chocolate Belga",unit:"kg",current_stock:15,minimum_stock:8,unit_cost:12.5},{id:5,name:"Vainilla Bourbon",unit:"ml",current_stock:500,minimum_stock:200,unit_cost:.15},{id:6,name:"Frutillas",unit:"kg",current_stock:10,minimum_stock:5,unit_cost:8},{id:7,name:"Almendras",unit:"kg",current_stock:8,minimum_stock:4,unit_cost:18},{id:8,name:"Dulce de Leche",unit:"kg",current_stock:20,minimum_stock:10,unit_cost:6.5}];case"/api/transactions":return[];case"/api/users":return[{id:1,name:"Juan P√©rez",email:"juan@example.com",role:"production",active:!0},{id:2,name:"Mar√≠a Garc√≠a",email:"maria@example.com",role:"production",active:!0},{id:3,name:"Carlos L√≥pez",email:"carlos@example.com",role:"production",active:!1},{id:4,name:"Ana Rodr√≠guez",email:"ana@example.com",role:"admin",active:!0},{id:5,name:"Luis Mart√≠nez",email:"luis@example.com",role:"production",active:!0}];case"/api/products":return[{id:1,name:"Chocolate con Almendras",category_id:1,price_cup:250,price_kg:1200,available:!0,stock:25,description:"Delicioso helado de chocolate con trozos de almendras"},{id:2,name:"Vainilla Premium",category_id:1,price_cup:200,price_kg:1e3,available:!0,stock:30,description:"Helado de vainilla con esencia natural"},{id:3,name:"Frutilla Natural",category_id:2,price_cup:220,price_kg:1100,available:!0,stock:20,description:"Helado de frutilla con trozos de fruta"},{id:4,name:"Dulce de Leche",category_id:1,price_cup:230,price_kg:1150,available:!0,stock:35,description:"Tradicional helado de dulce de leche"},{id:5,name:"Mint Chip",category_id:3,price_cup:240,price_kg:1200,available:!1,stock:0,description:"Refrescante helado de menta con chips de chocolate"},{id:6,name:"Lim√≥n Natural",category_id:4,price_cup:180,price_kg:900,available:!0,stock:15,description:"Sorbete de lim√≥n natural"},{id:7,name:"Chocolate Blanco",category_id:3,price_cup:260,price_kg:1300,available:!0,stock:10,description:"Cremoso helado de chocolate blanco"},{id:8,name:"Pistacho Premium",category_id:3,price_cup:300,price_kg:1500,available:!0,stock:8,description:"Helado de pistacho con frutos secos"}];case"/api/product_categories":return[{id:1,name:"Cl√°sicos",description:"Sabores tradicionales",active:!0},{id:2,name:"Frutales",description:"Sabores a base de frutas",active:!0},{id:3,name:"Premium",description:"Sabores especiales y gourmet",active:!0},{id:4,name:"Sorbetes",description:"Opciones sin l√°cteos",active:!0}];case"/api/providers":return[{id:1,name:"L√°cteos Del Valle",contact_person:"Juan P√©rez",email:"juan@lacteoselvalle.com",phone:"+54 11 4567-8901",address:"Av. Industrial 1234, Buenos Aires",category_id:1,category:"L√°cteos",status:"active",payment_terms:"30 d√≠as",tax_id:"20-12345678-9",notes:"Proveedor principal de leche y crema",created_at:"2025-01-01T00:00:00Z",updated_at:"2025-01-15T00:00:00Z"},{id:2,name:"Frutas Premium S.A.",contact_person:"Mar√≠a Gonz√°lez",email:"maria@frutaspremium.com",phone:"+54 11 4890-1234",address:"Mercado Central, Puesto 45-47",category_id:2,category:"Frutas",status:"active",payment_terms:"15 d√≠as",tax_id:"20-87654321-0",notes:"Frutas de estaci√≥n para helados",created_at:"2025-01-02T00:00:00Z",updated_at:"2025-01-20T00:00:00Z"},{id:3,name:"Chocolate Artesanal Belgrano",contact_person:"Carlos L√≥pez",email:"carlos@chocolatebelgrano.com",phone:"+54 11 4234-5678",address:"Belgrano 567, Belgrano",category_id:3,category:"Chocolates",status:"active",payment_terms:"45 d√≠as",tax_id:"20-11223344-5",notes:"Chocolate belga importado y local",created_at:"2025-01-03T00:00:00Z",updated_at:"2025-01-25T00:00:00Z"},{id:4,name:"Envases y Packaging Norte",contact_person:"Ana Rodr√≠guez",email:"ana@envasesnorte.com",phone:"+54 11 4345-6789",address:"Zona Industrial Norte, Lote 12",category_id:4,category:"Envases",status:"inactive",payment_terms:"30 d√≠as",tax_id:"20-99887766-3",notes:"Potes, cucharitas y material de packaging",created_at:"2025-01-04T00:00:00Z",updated_at:"2025-01-10T00:00:00Z"}];case"/api/provider_categories":return[{id:1,name:"L√°cteos",description:"Leche, crema, manteca",active:!0},{id:2,name:"Frutas",description:"Frutas frescas y congeladas",active:!0},{id:3,name:"Chocolates",description:"Chocolate y cacao",active:!0},{id:4,name:"Envases",description:"Packaging y material",active:!0},{id:5,name:"Ingredientes",description:"Az√∫car, vainilla, etc.",active:!0}];case"/api/stores":return[{id:1,name:"Venezia Centro",code:"VZ-001",address:"Av. Corrientes 1234, Buenos Aires",phone:"+54 11 4123-4567",email:"centro@venezia.com",manager:"Mar√≠a Gonz√°lez",active:!0,employees_count:8,monthly_sales:45230,daily_orders:23,coordinates:{lat:-34.6037,lng:-58.3816},opening_hours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"20:00",closed:!1},saturday:{open:"10:00",close:"20:00",closed:!1},sunday:{open:"11:00",close:"19:00",closed:!1}}},{id:2,name:"Venezia Norte",code:"VZ-002",address:"Av. Cabildo 2567, Belgrano",phone:"+54 11 4567-8901",email:"norte@venezia.com",manager:"Carlos L√≥pez",active:!0,employees_count:6,monthly_sales:32100,daily_orders:18,coordinates:{lat:-34.5631,lng:-58.4564},opening_hours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"20:00",closed:!1},saturday:{open:"10:00",close:"20:00",closed:!1},sunday:{open:"11:00",close:"19:00",closed:!1}}},{id:3,name:"Venezia Sur",code:"VZ-003",address:"Av. San Juan 1890, Barracas",phone:"+54 11 4890-1234",email:"sur@venezia.com",manager:"Ana Rodr√≠guez",active:!0,employees_count:5,monthly_sales:28750,daily_orders:15,coordinates:{lat:-34.6469,lng:-58.3774},opening_hours:{monday:{open:"09:00",close:"18:00",closed:!1},tuesday:{open:"09:00",close:"18:00",closed:!1},wednesday:{open:"09:00",close:"18:00",closed:!1},thursday:{open:"09:00",close:"18:00",closed:!1},friday:{open:"09:00",close:"19:00",closed:!1},saturday:{open:"10:00",close:"19:00",closed:!1},sunday:{open:"11:00",close:"18:00",closed:!1}}},{id:4,name:"Venezia Palermo",code:"VZ-004",address:"Av. Santa Fe 3456, Palermo",phone:"+54 11 4234-5678",email:"palermo@venezia.com",manager:"Luis Mart√≠nez",active:!1,employees_count:0,monthly_sales:0,daily_orders:0,coordinates:{lat:-34.5875,lng:-58.3974},opening_hours:{monday:{open:"09:00",close:"18:00",closed:!0},tuesday:{open:"09:00",close:"18:00",closed:!0},wednesday:{open:"09:00",close:"18:00",closed:!0},thursday:{open:"09:00",close:"18:00",closed:!0},friday:{open:"09:00",close:"18:00",closed:!0},saturday:{open:"09:00",close:"18:00",closed:!0},sunday:{open:"09:00",close:"18:00",closed:!0}}}];default:return console.warn(`No hay datos mock disponibles para: ${e}`),null}}}},82932:function(e,t,a){a.d(t,{F:function(){return r},Y:function(){return o}});var s=a(96540);const n=(0,s.createContext)(),o=()=>{const e=(0,s.useContext)(n);if(!e)throw new Error("useSocket debe ser usado dentro de SocketProvider");return e},r=({children:e})=>s.createElement(n.Provider,{value:{socket:{on:()=>{},off:()=>{},emit:()=>{},disconnect:()=>{},connected:!1},connected:!1,emit:()=>{},on:()=>{},off:()=>{}}},e)}},function(e){e.O(0,[9017,8466,6947,4993,7605,8661,3363,5738,3729,8224,9184,5566,6007,8145,3595,7673,8363,9874,4078,5417,489,7637,9e3,9936,8956,3326,3428],(function(){return e(e.s=36954)})),e.O()}]);