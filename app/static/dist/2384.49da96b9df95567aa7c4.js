"use strict";(self.webpackChunkvenezia_frontend=self.webpackChunkvenezia_frontend||[]).push([[2384],{52384:function(e,a,t){t.r(a),t.d(a,{default:function(){return Q}});var r=t(96540),s=t(3385),n=t(67561),o=t(67984),l=t(30116),i=t(21456),c=t(98188),d=t(35404),m=t(32708),g=t(76069),p=t(19869),u=t(27235),b=t(86589),y=t(93893),x=t(60367),E=t(18931),h=t(80697),_=t(35627),f=t(61769),v=t(91031),k=t(83240),N=t(42203),w=t(27993),A=t(48110),C=t(15338),I=t(17133),S=t(81393),O=t(13603),T=t(41181),P=t(43954),D=t(45773),R=t(37946),U=t(48697),L=t(48852),z=({branch:e,onClose:a,onSave:t})=>{const{user:o}=(0,k.A)(),{success:i,error:c}=(0,N.d)(),[m,E]=(0,r.useState)({name:"",code:"",address:"",phone:"",email:"",coordinates:{lat:null,lng:null},timezone:"America/Argentina/Buenos_Aires",opening_hours:{monday:{open:"10:00",close:"22:00"},tuesday:{open:"10:00",close:"22:00"},wednesday:{open:"10:00",close:"22:00"},thursday:{open:"10:00",close:"22:00"},friday:{open:"10:00",close:"23:00"},saturday:{open:"10:00",close:"23:00"},sunday:{open:"12:00",close:"22:00"}},features:[],settings:{max_delivery_distance:5,delivery_fee:200,min_order_amount:1e3,tax_rate:21,currency:"ARS"},is_main_branch:!1,is_active:!0}),[_,f]=(0,r.useState)(!1),[w,z]=(0,r.useState)(!1),[M,V]=(0,r.useState)("basic"),[H,F]=(0,r.useState)(null),G=[{id:"delivery",label:"Delivery",icon:A.A,color:"bg-purple-500"},{id:"dine_in",label:"Salón",icon:C.A,color:"bg-orange-500"},{id:"takeaway",label:"Para llevar",icon:I.A,color:"bg-green-500"},{id:"wholesale",label:"Mayorista",icon:S.A,color:"bg-blue-500"},{id:"parking",label:"Parking",icon:O.A,color:"bg-indigo-500"},{id:"wifi",label:"WiFi",icon:l.A,color:"bg-cyan-500"},{id:"outdoor",label:"Terraza",icon:C.A,color:"bg-yellow-500"},{id:"accessibility",label:"Accesible",icon:y.A,color:"bg-pink-500"}],B=[{id:"basic",label:"Información",icon:S.A},{id:"location",label:"Ubicación",icon:g.A},{id:"hours",label:"Horarios",icon:u.A},{id:"features",label:"Características",icon:T.A},{id:"settings",label:"Configuración",icon:b.A}],j={monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo"};(0,r.useEffect)((()=>{e&&E({...e,opening_hours:e.opening_hours||m.opening_hours,features:e.features||[],settings:{...m.settings,...e.settings}})}),[e]);const Y=(e,a)=>{E((t=>({...t,[e]:a})))},X=(e,a)=>{E((t=>({...t,settings:{...t.settings,[e]:a}})))},K=(e,a,t)=>{E((r=>({...r,opening_hours:{...r.opening_hours,[e]:{...r.opening_hours[e],[a]:t}}})))},J=async()=>{if(m.address){z(!0);try{const e=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(m.address)}&key=${{VITE_SUPABASE_URL:"https://axmknxpmapomyegdaogl.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bWtueHBtYXBvbXllZ2Rhb2dsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4OTU1MTcsImV4cCI6MjA2NzQ3MTUxN30.DNv7zX7KFp50DzhfzWumNYKUONcchQ1xaGFd0UfA18g",VITE_API_URL:"http://localhost:5002/api",VITE_APP_NAME:"Venezia Ice Cream",REACT_APP_GEMINI_API_KEY:"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU"}.VITE_GOOGLE_MAPS_API_KEY}`),a=await e.json();if(a.results&&a.results.length>0){const e=a.results[0].geometry.location;Y("coordinates",{lat:e.lat,lng:e.lng}),i("Coordenadas encontradas")}else c("No se encontraron coordenadas para esta dirección")}catch(e){console.error("Error geocoding:",e),c("Error al buscar coordenadas")}finally{z(!1)}}else c("Ingresa una dirección para buscar las coordenadas")},Z=()=>{const e=m.name.substring(0,3).toUpperCase()||"SUC",a=Math.floor(1e3*Math.random()).toString().padStart(3,"0");Y("code",`${e}${a}`)};return r.createElement(n.N,null,r.createElement(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-xl z-50 flex items-center justify-center p-4",onClick:a},r.createElement(s.P.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden"},r.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),m.name&&m.code&&m.address){f(!0);try{const a={...m,organization_id:o.organization_id||"demo"};if(e){const{error:t}=await v.ND.from("branches").update(a).eq("id",e.id);if(t)throw t;i("Sucursal actualizada correctamente")}else{const{error:e}=await v.ND.from("branches").insert(a);if(e)throw e;i("Sucursal creada correctamente")}t()}catch(e){console.error("Error saving branch:",e),c("Error al guardar la sucursal")}finally{f(!1)}}else c("Completa todos los campos obligatorios")}},r.createElement("div",{className:"relative bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 p-6"},r.createElement("div",{className:"absolute inset-0 bg-black/20"}),r.createElement("div",{className:"relative flex items-center justify-between"},r.createElement("div",null,r.createElement("h2",{className:"text-3xl font-bold text-white mb-2"},e?"Editar Sucursal":"Nueva Sucursal"),r.createElement("p",{className:"text-blue-100"},"Configura todos los detalles de tu sucursal")),r.createElement(s.P.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},type:"button",onClick:a,className:"p-3 bg-white/20 hover:bg-white/30 rounded-xl backdrop-blur-sm transition-all duration-200"},r.createElement(U.A,{className:"h-6 w-6 text-white"})))),r.createElement("div",{className:"border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50"},r.createElement("div",{className:"flex overflow-x-auto scrollbar-hide"},B.map((e=>{const a=e.icon;return r.createElement("button",{key:e.id,type:"button",onClick:()=>V(e.id),className:"flex items-center gap-2 px-6 py-4 font-medium text-sm whitespace-nowrap transition-all duration-200 border-b-2 "+(M===e.id?"text-blue-600 dark:text-blue-400 border-blue-600 dark:border-blue-400 bg-white dark:bg-gray-900":"text-gray-600 dark:text-gray-400 border-transparent hover:text-gray-900 dark:hover:text-gray-200")},r.createElement(a,{className:"h-4 w-4"}),e.label)})))),r.createElement("div",{className:"p-6 overflow-y-auto bg-gray-50 dark:bg-gray-950",style:{maxHeight:"calc(90vh - 280px)"}},r.createElement(n.N,{mode:"wait"},r.createElement(s.P.div,{key:M,initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2}},(()=>{switch(M){case"basic":return r.createElement("div",{className:"space-y-6"},r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Nombre de la Sucursal *"),r.createElement("input",{type:"text",value:m.name,onChange:e=>Y("name",e.target.value),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",placeholder:"Ej: Heladería Venezia - Centro",required:!0})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Código Único *"),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"text",value:m.code,onChange:e=>Y("code",e.target.value.toUpperCase()),className:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",placeholder:"SUC001",required:!0}),r.createElement(s.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:Z,className:"px-4 py-3 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-xl transition-all duration-200 group",title:"Generar código automático"},r.createElement(h.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-300 group-hover:rotate-90 transition-transform duration-200"}))))),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Teléfono"),r.createElement("div",{className:"relative"},r.createElement(p.A,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.createElement("input",{type:"tel",value:m.phone,onChange:e=>Y("phone",e.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",placeholder:"+54 11 4567-8900"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Email"),r.createElement("div",{className:"relative"},r.createElement(P.A,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.createElement("input",{type:"email",value:m.email,onChange:e=>Y("email",e.target.value),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",placeholder:"sucursal@venezia.com"})))),r.createElement("div",{className:"flex items-center gap-6"},r.createElement("label",{className:"flex items-center gap-3 cursor-pointer group"},r.createElement("input",{type:"checkbox",checked:m.is_main_branch,onChange:e=>Y("is_main_branch",e.target.checked),className:"w-5 h-5 rounded-md border-2 border-gray-300 dark:border-gray-600 text-blue-600 focus:ring-4 focus:ring-blue-500/20 transition-all duration-200"}),r.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 group-hover:text-gray-900 dark:group-hover:text-white transition-colors"},"Sucursal Principal")),r.createElement("label",{className:"flex items-center gap-3 cursor-pointer group"},r.createElement("input",{type:"checkbox",checked:m.is_active,onChange:e=>Y("is_active",e.target.checked),className:"w-5 h-5 rounded-md border-2 border-gray-300 dark:border-gray-600 text-green-600 focus:ring-4 focus:ring-green-500/20 transition-all duration-200"}),r.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 group-hover:text-gray-900 dark:group-hover:text-white transition-colors"},"Sucursal Activa"))));case"location":return r.createElement("div",{className:"space-y-6"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Dirección Completa *"),r.createElement("div",{className:"flex gap-2"},r.createElement("input",{type:"text",value:m.address,onChange:e=>Y("address",e.target.value),className:"flex-1 px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",placeholder:"Av. Corrientes 1234, CABA",required:!0}),r.createElement(s.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:J,disabled:w,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-medium rounded-xl hover:from-blue-600 hover:to-blue-700 disabled:from-gray-400 disabled:to-gray-500 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2"},r.createElement(x.A,{className:"h-5 w-5 "+(w?"animate-pulse":"")}),w?"Buscando...":"Obtener Coordenadas"))),m.coordinates.lat&&m.coordinates.lng&&r.createElement(s.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl"},r.createElement("div",{className:"flex items-center gap-3 mb-3"},r.createElement(D.A,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),r.createElement("p",{className:"font-medium text-green-800 dark:text-green-300"},"Coordenadas encontradas")),r.createElement("div",{className:"grid grid-cols-2 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Latitud"),r.createElement("input",{type:"number",value:m.coordinates.lat,onChange:e=>Y("coordinates",{...m.coordinates,lat:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",step:"0.000001"})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Longitud"),r.createElement("input",{type:"number",value:m.coordinates.lng,onChange:e=>Y("coordinates",{...m.coordinates,lng:parseFloat(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm",step:"0.000001"})))),r.createElement("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl"},r.createElement("div",{className:"flex gap-3"},r.createElement(R.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),r.createElement("div",null,r.createElement("p",{className:"text-sm text-blue-800 dark:text-blue-300"},"Las coordenadas son necesarias para mostrar la sucursal en el mapa y calcular distancias de delivery.")))));case"hours":return r.createElement("div",{className:"space-y-4"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200"},"Horarios de Atención"),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400"},"Haz clic en copiar para aplicar el mismo horario a todos los días")),Object.entries(m.opening_hours).map((([e,a])=>r.createElement("div",{key:e,className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl"},r.createElement("div",{className:"w-32"},r.createElement("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200"},j[e])),r.createElement("div",{className:"flex items-center gap-2 flex-1"},r.createElement("input",{type:"time",value:a.open,onChange:a=>K(e,"open",a.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),r.createElement("span",{className:"text-gray-500 dark:text-gray-400"},"a"),r.createElement("input",{type:"time",value:a.close,onChange:a=>K(e,"close",a.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"})),r.createElement(s.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"button",onClick:()=>(e=>{const a=m.opening_hours[e],t={...m.opening_hours};["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].forEach((r=>{r!==e&&(t[r]={...a})})),E((e=>({...e,opening_hours:t}))),F(e),setTimeout((()=>F(null)),2e3),i("Horarios copiados a todos los días")})(e),className:"p-2 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",title:"Copiar a todos los días"},H===e?r.createElement(D.A,{className:"h-4 w-4 text-green-500"}):r.createElement(d.A,{className:"h-4 w-4"}))))));case"features":return r.createElement("div",{className:"space-y-6"},r.createElement("div",null,r.createElement("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-4"},"Selecciona las características de esta sucursal"),r.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3"},G.map((e=>{const a=e.icon,t=m.features.includes(e.id);return r.createElement(s.P.button,{key:e.id,type:"button",onClick:()=>{return a=e.id,void E((e=>({...e,features:e.features.includes(a)?e.features.filter((e=>e!==a)):[...e.features,a]})));var a},whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-4 rounded-xl border-2 transition-all duration-200 "+(t?"border-blue-500 bg-blue-50 dark:bg-blue-900/30":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 bg-white dark:bg-gray-800")},r.createElement("div",{className:`w-10 h-10 rounded-lg ${t?e.color:"bg-gray-100 dark:bg-gray-700"} flex items-center justify-center mx-auto mb-2 transition-all duration-200`},r.createElement(a,{className:"h-5 w-5 "+(t?"text-white":"text-gray-600 dark:text-gray-400")})),r.createElement("span",{className:"text-xs font-medium "+(t?"text-blue-700 dark:text-blue-300":"text-gray-700 dark:text-gray-300")},e.label))})))));case"settings":return r.createElement("div",{className:"space-y-6"},r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Radio de Delivery (km)"),r.createElement("div",{className:"relative"},r.createElement(x.A,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.createElement("input",{type:"number",value:m.settings.max_delivery_distance,onChange:e=>X("max_delivery_distance",parseFloat(e.target.value)),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",min:"0",step:"0.5"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Costo de Delivery"),r.createElement("div",{className:"relative"},r.createElement(b.A,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.createElement("input",{type:"number",value:m.settings.delivery_fee,onChange:e=>X("delivery_fee",parseFloat(e.target.value)),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",min:"0",step:"10"})))),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Pedido Mínimo"),r.createElement("div",{className:"relative"},r.createElement(A.A,{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400"}),r.createElement("input",{type:"number",value:m.settings.min_order_amount,onChange:e=>X("min_order_amount",parseFloat(e.target.value)),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",min:"0",step:"100"}))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Tasa de Impuesto (%)"),r.createElement("input",{type:"number",value:m.settings.tax_rate,onChange:e=>X("tax_rate",parseFloat(e.target.value)),className:"w-full px-4 py-3 border-2 border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-4 focus:ring-blue-500/20 focus:border-blue-500 transition-all duration-200",min:"0",max:"100",step:"0.1"}))));default:return null}})()))),r.createElement("div",{className:"p-6 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-400"},"* Campos obligatorios"),r.createElement("div",{className:"flex gap-3"},r.createElement(s.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"button",onClick:a,className:"px-6 py-3 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700 font-medium rounded-xl transition-all duration-200"},"Cancelar"),r.createElement(s.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:_,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold rounded-xl disabled:from-gray-400 disabled:to-gray-500 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl flex items-center gap-2"},_?r.createElement(r.Fragment,null,r.createElement(s.P.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}},r.createElement(u.A,{className:"h-5 w-5"})),"Guardando..."):r.createElement(r.Fragment,null,r.createElement(L.A,{className:"h-5 w-5"}),e?"Actualizar":"Crear"," Sucursal")))))))))},M=t(6632),V=t(43241),H=t(94945),F=t(48309),G=t(15977),B=t(29696),j=t(76316),Y=t(96844),X=t(44471),K=t(418),J=t(50180),Z=t(44731),W=t(66118);W.t1.register(W.PP,W.kc,W.FN,W.No,W.E8,W.Bs,W.hE,W.m_,W.s$,W.dN);var q=({branch:e,onClose:a})=>{const[t,n]=(0,r.useState)(!0),[o,l]=(0,r.useState)("month"),[i,c]=(0,r.useState)({revenue:{current:0,previous:0,trend:0},sales:{current:0,previous:0,trend:0},avgTicket:{current:0,previous:0,trend:0},customers:{current:0,previous:0,trend:0},topProducts:[],hourlyDistribution:[],categoryBreakdown:[],employeePerformance:[],inventoryStatus:{healthy:0,low:0,critical:0},customerSatisfaction:0,operationalEfficiency:0});(0,r.useEffect)((()=>{d()}),[e,o]);const d=async()=>{n(!0);try{const a=new Date,t=m(o),r=g(o),{data:s}=await v.ND.from("sales").select("*, sale_items(*, products(name, category))").eq("branch_id",e.id).gte("created_at",t.toISOString()).lte("created_at",a.toISOString()),{data:n}=await v.ND.from("sales").select("*").eq("branch_id",e.id).gte("created_at",r.toISOString()).lt("created_at",t.toISOString()),l=s?.reduce(((e,a)=>e+a.total_amount),0)||0,i=n?.reduce(((e,a)=>e+a.total_amount),0)||0,d=i>0?(l-i)/i*100:0,p=s?.length||0,u=n?.length||0,b=u>0?(p-u)/u*100:0,y=p>0?l/p:0,x=u>0?i/u:0,E=x>0?(y-x)/x*100:0,h=new Set(s?.map((e=>e.customer_id)).filter(Boolean)).size,_=new Set(n?.map((e=>e.customer_id)).filter(Boolean)).size,f=_>0?(h-_)/_*100:0,k={};s?.forEach((e=>{e.sale_items?.forEach((e=>{const a=e.products.name;k[a]||(k[a]={name:a,quantity:0,revenue:0,category:e.products.category}),k[a].quantity+=e.quantity,k[a].revenue+=e.price*e.quantity}))}));const N=Object.values(k).sort(((e,a)=>a.revenue-e.revenue)).slice(0,10),w=Array(24).fill(0);s?.forEach((e=>{const a=new Date(e.created_at).getHours();w[a]++}));const A={};s?.forEach((e=>{e.sale_items?.forEach((e=>{const a=e.products.category||"Sin categoría";A[a]||(A[a]=0),A[a]+=e.price*e.quantity}))}));const{data:C}=await v.ND.from("branch_inventory").select("current_stock, min_stock").eq("branch_id",e.id),I={healthy:0,low:0,critical:0};C?.forEach((e=>{const a=e.current_stock/e.min_stock;a>1.5?I.healthy++:a>.5?I.low++:I.critical++}));const S=4.2+.6*Math.random(),O=75+20*Math.random();c({revenue:{current:l,previous:i,trend:d},sales:{current:p,previous:u,trend:b},avgTicket:{current:y,previous:x,trend:E},customers:{current:h,previous:_,trend:f},topProducts:N,hourlyDistribution:w,categoryBreakdown:Object.entries(A).map((([e,a])=>({name:e,value:a}))),inventoryStatus:I,customerSatisfaction:S,operationalEfficiency:O})}catch(e){console.error("Error loading metrics:",e)}finally{n(!1)}},m=e=>{const a=new Date;switch(e){case"today":a.setHours(0,0,0,0);break;case"week":a.setDate(a.getDate()-7);break;case"month":a.setMonth(a.getMonth()-1);break;case"year":a.setFullYear(a.getFullYear()-1)}return a},g=e=>{const a=m(e);switch(e){case"today":a.setDate(a.getDate()-1);break;case"week":a.setDate(a.getDate()-7);break;case"month":a.setMonth(a.getMonth()-1);break;case"year":a.setFullYear(a.getFullYear()-1)}return a},p=({title:e,current:a,previous:t,trend:s,icon:n,color:o,format:l="number"})=>{const i="currency"===l?(0,w.vv)(a):a.toLocaleString(),c=s>=0;return r.createElement("div",{className:"bg-white rounded-lg p-6 shadow-sm"},r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("div",{className:`p-3 rounded-lg ${o}`},r.createElement(n,{className:"h-6 w-6 text-white"})),r.createElement("div",{className:"flex items-center gap-1 text-sm "+(c?"text-green-600":"text-red-600")},c?r.createElement(M.A,{className:"h-4 w-4"}):r.createElement(V.A,{className:"h-4 w-4"}),r.createElement("span",null,Math.abs(s).toFixed(1),"%"))),r.createElement("p",{className:"text-gray-600 text-sm"},e),r.createElement("p",{className:"text-2xl font-bold mt-1"},i),r.createElement("p",{className:"text-xs text-gray-500 mt-1"},"vs ","currency"===l?(0,w.vv)(t):t.toLocaleString()," anterior"))};return r.createElement(s.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:a},r.createElement(s.P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-gray-50 rounded-xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden"},r.createElement("div",{className:"p-6 bg-white border-b"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",null,r.createElement("h2",{className:"text-2xl font-bold flex items-center gap-3"},r.createElement(H.A,{className:"h-8 w-8 text-blue-600"}),"Métricas de ",e.name),r.createElement("p",{className:"text-gray-600 mt-1"},"Análisis detallado del rendimiento")),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("div",{className:"flex bg-gray-100 rounded-lg p-1"},["today","week","month","year"].map((e=>r.createElement("button",{key:e,onClick:()=>l(e),className:"px-3 py-1 rounded-md text-sm transition-colors "+(o===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800")},"today"===e?"Hoy":"week"===e?"Semana":"month"===e?"Mes":"Año")))),r.createElement("button",{onClick:()=>{console.log("Exporting report...")},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Exportar reporte"},r.createElement(F.A,{className:"h-5 w-5"})),r.createElement("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Actualizar"},r.createElement(G.A,{className:"h-5 w-5"})),r.createElement("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors"},r.createElement(U.A,{className:"h-5 w-5"}))))),r.createElement("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-100px)]"},t?r.createElement("div",{className:"flex justify-center py-12"},r.createElement("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})):r.createElement("div",{className:"space-y-6"},r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},r.createElement(p,{title:"Ingresos",current:i.revenue.current,previous:i.revenue.previous,trend:i.revenue.trend,icon:b.A,color:"bg-green-500",format:"currency"}),r.createElement(p,{title:"Ventas",current:i.sales.current,previous:i.sales.previous,trend:i.sales.trend,icon:B.A,color:"bg-blue-500"}),r.createElement(p,{title:"Ticket Promedio",current:i.avgTicket.current,previous:i.avgTicket.previous,trend:i.avgTicket.trend,icon:j.A,color:"bg-purple-500",format:"currency"}),r.createElement(p,{title:"Clientes",current:i.customers.current,previous:i.customers.previous,trend:i.customers.trend,icon:y.A,color:"bg-orange-500"})),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.createElement("div",{className:"bg-white rounded-lg p-6 shadow-sm"},r.createElement("h3",{className:"font-semibold mb-4 flex items-center gap-2"},r.createElement(T.A,{className:"h-5 w-5 text-yellow-500"}),"Satisfacción del Cliente"),r.createElement("div",{className:"flex items-center justify-center"},r.createElement("div",{className:"relative"},r.createElement("svg",{className:"w-32 h-32"},r.createElement("circle",{cx:"64",cy:"64",r:"60",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),r.createElement("circle",{cx:"64",cy:"64",r:"60",fill:"none",stroke:"#fbbf24",strokeWidth:"8",strokeDasharray:i.customerSatisfaction/5*377+" 377",strokeLinecap:"round",transform:"rotate(-90 64 64)"})),r.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},r.createElement("div",{className:"text-center"},r.createElement("p",{className:"text-3xl font-bold"},i.customerSatisfaction.toFixed(1)),r.createElement("p",{className:"text-sm text-gray-500"},"de 5.0")))))),r.createElement("div",{className:"bg-white rounded-lg p-6 shadow-sm"},r.createElement("h3",{className:"font-semibold mb-4 flex items-center gap-2"},r.createElement(Y.A,{className:"h-5 w-5 text-blue-500"}),"Eficiencia Operacional"),r.createElement("div",{className:"flex items-center justify-center"},r.createElement("div",{className:"relative"},r.createElement("svg",{className:"w-32 h-32"},r.createElement("circle",{cx:"64",cy:"64",r:"60",fill:"none",stroke:"#e5e7eb",strokeWidth:"8"}),r.createElement("circle",{cx:"64",cy:"64",r:"60",fill:"none",stroke:"#3b82f6",strokeWidth:"8",strokeDasharray:i.operationalEfficiency/100*377+" 377",strokeLinecap:"round",transform:"rotate(-90 64 64)"})),r.createElement("div",{className:"absolute inset-0 flex items-center justify-center"},r.createElement("div",{className:"text-center"},r.createElement("p",{className:"text-3xl font-bold"},i.operationalEfficiency.toFixed(0),"%"),r.createElement("p",{className:"text-sm text-gray-500"},"Eficiencia")))))),r.createElement("div",{className:"bg-white rounded-lg p-6 shadow-sm"},r.createElement("h3",{className:"font-semibold mb-4 flex items-center gap-2"},r.createElement(I.A,{className:"h-5 w-5 text-purple-500"}),"Estado del Inventario"),r.createElement("div",{className:"space-y-3"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(X.A,{className:"h-5 w-5 text-green-500"}),r.createElement("span",{className:"text-sm"},"Stock Saludable")),r.createElement("span",{className:"font-semibold"},i.inventoryStatus.healthy)),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(K.A,{className:"h-5 w-5 text-yellow-500"}),r.createElement("span",{className:"text-sm"},"Stock Bajo")),r.createElement("span",{className:"font-semibold"},i.inventoryStatus.low)),r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement(J.A,{className:"h-5 w-5 text-red-500"}),r.createElement("span",{className:"text-sm"},"Stock Crítico")),r.createElement("span",{className:"font-semibold"},i.inventoryStatus.critical))))),r.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"},r.createElement("div",{className:"bg-white rounded-lg p-6 shadow-sm"},r.createElement("h3",{className:"font-semibold mb-4"},"Distribución de Ventas por Hora"),r.createElement(Z.yP,{data:{labels:Array.from({length:24},((e,a)=>`${a}:00`)),datasets:[{label:"Ventas",data:i.hourlyDistribution,backgroundColor:"rgba(59, 130, 246, 0.5)",borderColor:"rgb(59, 130, 246)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0}}}})),r.createElement("div",{className:"bg-white rounded-lg p-6 shadow-sm"},r.createElement("h3",{className:"font-semibold mb-4"},"Ventas por Categoría"),r.createElement(Z.nu,{data:{labels:i.categoryBreakdown.map((e=>e.name)),datasets:[{data:i.categoryBreakdown.map((e=>e.value)),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316"]}]},options:{responsive:!0,plugins:{legend:{position:"right"}}}}))),r.createElement("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden"},r.createElement("div",{className:"p-6 border-b"},r.createElement("h3",{className:"font-semibold"},"Productos Más Vendidos")),r.createElement("div",{className:"overflow-x-auto"},r.createElement("table",{className:"w-full"},r.createElement("thead",{className:"bg-gray-50"},r.createElement("tr",null,r.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Producto"),r.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Categoría"),r.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Cantidad"),r.createElement("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ingresos"))),r.createElement("tbody",{className:"bg-white divide-y divide-gray-200"},i.topProducts.map(((e,a)=>r.createElement("tr",{key:a},r.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},r.createElement("div",{className:"flex items-center"},r.createElement("div",{className:"text-sm font-medium text-gray-900"},e.name))),r.createElement("td",{className:"px-6 py-4 whitespace-nowrap"},r.createElement("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800"},e.category)),r.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},e.quantity),r.createElement("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},(0,w.vv)(e.revenue)))))))))))))},Q=()=>{const{user:e}=(0,k.A)(),{success:a,error:t,info:A}=(0,N.d)(),[C,I]=(0,r.useState)([]),[S,O]=(0,r.useState)(!0),[T,P]=(0,r.useState)(null),[D,R]=(0,r.useState)(!1),[U,L]=(0,r.useState)(!1),[M,V]=(0,r.useState)("all"),[H,F]=(0,r.useState)(""),[G,B]=(0,r.useState)({lat:-34.603684,lng:-58.381559}),[j,Y]=(0,r.useState)(null);(0,r.useEffect)((()=>{X()}),[]);const X=async()=>{try{O(!0);const{data:a}=await v.ND.from("branches").select("\n          *,\n          branch_inventory(count),\n          sales(count, total_amount)\n        ").eq("organization_id",e?.organization_id||"demo").order("created_at",{ascending:!1}),t=await Promise.all((a||[]).map((async e=>{const a=new Date;a.setDate(1),a.setHours(0,0,0,0);const{data:t}=await v.ND.from("sales").select("total_amount").eq("branch_id",e.id).gte("created_at",a.toISOString()),r=t?.reduce(((e,a)=>e+a.total_amount),0)||0,{count:s}=await v.ND.from("users").select("*",{count:"exact",head:!0}).contains("branch_access",[e.id]),n=Math.random()>.1;return{...e,monthRevenue:r,employeeCount:s||0,isOnline:n,inventoryItems:e.branch_inventory?.[0]?.count||0}})));I(t),t.length>0&&t[0].coordinates&&B({lat:t[0].coordinates.lat,lng:t[0].coordinates.lng})}catch(e){console.error("Error loading branches:",e),t("Error al cargar sucursales")}finally{O(!1)}},K=C.filter((e=>{const a="all"===M||"active"===M&&e.is_active||"inactive"===M&&!e.is_active,t=e.name?.toLowerCase().includes(H.toLowerCase())||e.address?.toLowerCase().includes(H.toLowerCase())||e.code?.toLowerCase().includes(H.toLowerCase());return a&&t})),J=({branch:e})=>{const n=Z(e);return r.createElement(s.P.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},whileHover:{y:-5},className:"bg-white dark:bg-gray-950 rounded-xl shadow-xl dark:shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden transition-all duration-300 hover:shadow-2xl dark:hover:shadow-gray-950/60"},r.createElement("div",{className:"p-8"},r.createElement("div",{className:"flex items-start justify-between mb-4"},r.createElement("div",{className:"flex items-start gap-4"},r.createElement("div",{className:"p-3 rounded-lg "+(e.is_main_branch?"bg-gradient-to-r from-purple-500 to-pink-500":"bg-gradient-to-r from-blue-500 to-cyan-500")},r.createElement(o.A,{className:"h-6 w-6 text-white"})),r.createElement("div",null,r.createElement("div",{className:"flex items-center gap-3"},r.createElement("h3",{className:"text-xl font-bold text-gray-900 dark:text-white"},e.name),e.is_main_branch&&r.createElement("span",{className:"px-3 py-1.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-300 text-sm font-medium rounded-full"},"Principal"),r.createElement("div",{className:"flex items-center gap-1 "+(e.isOnline?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400")},e.isOnline?r.createElement(l.A,{className:"h-4 w-4"}):r.createElement(i.A,{className:"h-4 w-4"}),r.createElement("span",{className:"text-sm font-medium"},e.isOnline?"Online":"Offline"))),r.createElement("p",{className:"text-base text-gray-600 dark:text-gray-300 mt-1"},e.code))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement("button",{onClick:()=>(e=>{P(e),R(!0)})(e),className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Editar"},r.createElement(c.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})),r.createElement("button",{onClick:()=>(async e=>{try{const t={...e,name:`${e.name} (Copia)`,code:`${e.code}-COPY`,is_main_branch:!1};delete t.id,delete t.created_at,delete t.updated_at;const{error:r}=await v.ND.from("branches").insert(t);if(r)throw r;a("Sucursal duplicada correctamente"),X()}catch(e){console.error("Error duplicating branch:",e),t("Error al duplicar sucursal")}})(e),className:"p-3 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg transition-colors",title:"Duplicar"},r.createElement(d.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})),r.createElement("button",{onClick:()=>(async e=>{if(confirm("¿Estás seguro de eliminar esta sucursal?"))try{await v.ND.from("branches").update({is_active:!1}).eq("id",e),a("Sucursal desactivada correctamente"),X()}catch(e){console.error("Error deleting branch:",e),t("Error al eliminar sucursal")}})(e.id),className:"p-3 hover:bg-red-100 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg transition-colors",title:"Eliminar"},r.createElement(m.A,{className:"h-5 w-5"})))),r.createElement("div",{className:"space-y-3 text-base"},r.createElement("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300"},r.createElement(g.A,{className:"h-5 w-5"}),r.createElement("span",null,e.address)),e.phone&&r.createElement("div",{className:"flex items-center gap-3 text-gray-600 dark:text-gray-300"},r.createElement(p.A,{className:"h-5 w-5"}),r.createElement("span",null,e.phone)),r.createElement("div",{className:"flex items-center gap-3"},r.createElement(u.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"}),r.createElement("span",{className:n?"text-green-600 dark:text-green-400 font-medium":"text-red-600 dark:text-red-400"},n?"Abierto ahora":"Cerrado"),r.createElement("span",{className:"text-gray-500 dark:text-gray-300"},W(e)))),r.createElement("div",{className:"grid grid-cols-2 gap-6 mt-6"},r.createElement("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg p-4 border border-green-200 dark:border-green-800"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-base text-gray-600 dark:text-gray-300"},"Ventas del mes"),r.createElement(b.A,{className:"h-5 w-5 text-green-600 dark:text-green-400"})),r.createElement("p",{className:"text-xl font-bold text-green-600 dark:text-green-400 mt-2"},(0,w.vv)(e.monthRevenue))),r.createElement("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("span",{className:"text-base text-gray-600 dark:text-gray-300"},"Empleados"),r.createElement(y.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})),r.createElement("p",{className:"text-xl font-bold text-blue-600 dark:text-blue-400 mt-2"},e.employeeCount))),r.createElement("div",{className:"flex flex-wrap gap-3 mt-6"},e.features?.map(((e,a)=>r.createElement("span",{key:a,className:"px-3 py-1.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-sm font-medium rounded-full"},Q(e)))))),r.createElement("div",{className:"border-t dark:border-gray-800 px-8 py-4 bg-gray-50 dark:bg-gray-900"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("button",{onClick:()=>$(e),className:"flex items-center gap-3 text-base font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors"},r.createElement(x.A,{className:"h-5 w-5"}),"Cómo llegar"),r.createElement("button",{onClick:()=>window.open(`/branch/${e.id}`,"_blank"),className:"flex items-center gap-3 text-base font-medium text-gray-600 dark:text-gray-300 hover:text-gray-700 dark:hover:text-gray-200 transition-colors"},r.createElement(E.A,{className:"h-5 w-5"}),"Ver detalles"))))},Z=e=>{if(!e.opening_hours||!e.is_active)return!1;const a=new Date,t=a.toLocaleDateString("en-US",{weekday:"lowercase"}),r=a.toTimeString().slice(0,5),s=e.opening_hours?.[t];return!!(s&&s.open&&s.close)&&r>=s.open&&r<=s.close},W=e=>{if(!e.opening_hours)return"";const a=(new Date).toLocaleDateString("en-US",{weekday:"lowercase"}),t=e.opening_hours?.[a];return t&&t.open?`${t.open} - ${t.close}`:"Horario no disponible"},Q=e=>({delivery:"Delivery",dine_in:"Salón",takeaway:"Para llevar",wholesale:"Mayorista",parking:"Estacionamiento",wifi:"WiFi",outdoor:"Mesas al aire libre",accessibility:"Accesible"}[e]||e),$=e=>{e.coordinates&&window.open(`https://www.google.com/maps/dir/?api=1&destination=${e.coordinates.lat},${e.coordinates.lng}`,"_blank")};return r.createElement("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950 transition-colors duration-200"},r.createElement("div",{className:"bg-white dark:bg-gray-900 shadow-lg dark:shadow-2xl border-b border-gray-200 dark:border-gray-800 transition-all duration-200"},r.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},r.createElement("div",{className:"py-8"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",null,r.createElement("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white"},"Gestión de Sucursales"),r.createElement("p",{className:"mt-3 text-lg text-gray-600 dark:text-gray-300"},"Administra todas las sucursales de tu heladería")),r.createElement(s.P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{P(null),R(!0)},className:"flex items-center gap-3 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white text-lg font-medium rounded-lg hover:from-blue-600 hover:to-blue-700 transform transition-all duration-200 shadow-lg hover:shadow-xl"},r.createElement(h.A,{className:"h-6 w-6"}),"Nueva Sucursal"))))),r.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},r.createElement("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-lg dark:shadow-2xl border border-gray-200 dark:border-gray-800 p-6 transition-all duration-200"},r.createElement("div",{className:"flex flex-col sm:flex-row gap-4"},r.createElement("div",{className:"flex-1"},r.createElement("div",{className:"relative"},r.createElement(o.A,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400 dark:text-gray-300"}),r.createElement("input",{type:"text",placeholder:"Buscar por nombre, código o dirección...",value:H,onChange:e=>F(e.target.value),className:"w-full pl-12 pr-4 py-3 text-lg border-2 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}))),r.createElement("div",{className:"flex items-center gap-3"},r.createElement(_.A,{className:"h-6 w-6 text-gray-500 dark:text-gray-300"}),r.createElement("select",{value:M,onChange:e=>V(e.target.value),className:"border-2 dark:border-gray-700 rounded-lg px-4 py-3 text-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white transition-all duration-200"},r.createElement("option",{value:"all"},"Todas"),r.createElement("option",{value:"active"},"Activas"),r.createElement("option",{value:"inactive"},"Inactivas")),r.createElement("button",{onClick:()=>L(!U),className:"px-4 py-3 rounded-lg transition-all duration-200 "+(U?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 border-2 border-blue-300 dark:border-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 border-2 border-gray-300 dark:border-gray-700")},r.createElement(g.A,{className:"h-6 w-6"})))),r.createElement("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-6 mt-8"},r.createElement("div",{className:"text-center p-6 bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl border border-blue-200 dark:border-blue-800"},r.createElement("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400"},C.filter((e=>e.is_active)).length),r.createElement("p",{className:"text-base text-gray-600 dark:text-gray-300 mt-2"},"Sucursales Activas")),r.createElement("div",{className:"text-center p-6 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl border border-green-200 dark:border-green-800"},r.createElement("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400"},C.filter((e=>Z(e))).length),r.createElement("p",{className:"text-base text-gray-600 dark:text-gray-300 mt-2"},"Abiertas Ahora")),r.createElement("div",{className:"text-center p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl border border-purple-200 dark:border-purple-800"},r.createElement("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400"},C.reduce(((e,a)=>e+a.employeeCount),0)),r.createElement("p",{className:"text-base text-gray-600 dark:text-gray-300 mt-2"},"Empleados Total")),r.createElement("div",{className:"text-center p-6 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-xl border border-yellow-200 dark:border-yellow-800"},r.createElement("p",{className:"text-3xl font-bold text-yellow-600 dark:text-yellow-500"},(0,w.vv)(C.reduce(((e,a)=>e+a.monthRevenue),0))),r.createElement("p",{className:"text-base text-gray-600 dark:text-gray-300 mt-2"},"Ventas del Mes"))))),U&&r.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-8"},r.createElement("div",{className:"bg-white dark:bg-gray-900 rounded-xl shadow-xl dark:shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden transition-all duration-200",style:{height:"500px"}},{CLAUDE_CODE_ENTRYPOINT:"cli",TERM_PROGRAM:"vscode",NODE:"/opt/homebrew/Cellar/node/23.9.0/bin/node",INIT_CWD:"/Users/santiagobalosky/Downloads/___venezia",BASE_URL:"http://localhost:5002",TERM:"xterm-256color",SHELL:"/bin/zsh",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/pl/84yxzzzd3v90npxddk5wtvsr0000gn/T/",npm_config_global_prefix:"/opt/homebrew",TERM_PROGRAM_VERSION:"1.3.5",ZDOTDIR:"/Users/santiagobalosky",MERCADOPAGO_WEBHOOK_URL:"https://760d-190-189-153-23.ngrok-free.app/payment/webhook",CURSOR_TRACE_ID:"ca0b4d1615b34a5ea4e2813559d1444a",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"0",WHATSAPP_API_TOKEN:"your_whatsapp_token",npm_config_noproxy:"",npm_config_local_prefix:"/Users/santiagobalosky/Downloads/___venezia",GIT_EDITOR:"true",NVM_DIR:"/Users/santiagobalosky/.nvm",USER:"santiagobalosky",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/opt/homebrew/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.xuCNbiahFc/Listeners",VSCODE_PROFILE_INITIALIZED:"1",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x8",npm_execpath:"/opt/homebrew/lib/node_modules/npm/bin/npm-cli.js",PYDEVD_DISABLE_FILE_VALIDATION:"1",MERCADOPAGO_ACCESS_TOKEN:"TEST-8283236698213961-051118-1e867ef867dd24873cff4534c55dab80-60104869",PATH:"/Users/santiagobalosky/Downloads/___venezia/node_modules/.bin:/Users/santiagobalosky/Downloads/node_modules/.bin:/Users/santiagobalosky/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/opt/homebrew/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/.bun/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Users/santiagobalosky/go/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Applications/Postgres.app/Contents/Versions/17/bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/go/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin://Applications/Topaz Gigapixel AI.app/Contents/Resources/bin:/Library/Apple/usr/bin:/usr/local/go/bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/.bun/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Users/santiagobalosky/go/bin:/Applications/Postgres.app/Contents/Versions/17/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/Users/santiagobalosky/.claude/scripts:/usr/local/go/bin:/Users/santiagobalosky/.claude/scripts:/Users/santiagobalosky/.claude/scripts",npm_package_json:"/Users/santiagobalosky/Downloads/___venezia/package.json",_:"/Users/santiagobalosky/Downloads/___venezia/node_modules/.bin/webpack",npm_config_userconfig:"/Users/santiagobalosky/.npmrc",npm_config_init_module:"/Users/santiagobalosky/.npm-init.js",USER_ZDOTDIR:"/Users/santiagobalosky",__CFBundleIdentifier:"com.todesktop.230313mzl4w4u92",npm_command:"run-script",PWD:"/Users/santiagobalosky/Downloads/___venezia",npm_lifecycle_event:"build:stats",EDITOR:"vi",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"delta",npm_package_name:"venezia-frontend",LANG:"C.UTF-8",BUNDLED_DEBUGPY_PATH:"/Users/santiagobalosky/.cursor/extensions/ms-python.debugpy-2025.8.0-darwin-arm64/bundled/libs/debugpy",FRONTEND_PORT:"3000",npm_config_npm_version:"10.9.2",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",NODE_ENV:"development",WHATSAPP_API_URL:"https://api.whatsapp.com/v1",npm_config_node_gyp:"/opt/homebrew/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"2.0.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",VSCODE_DEBUGPY_ADAPTER_ENDPOINTS:"/Users/santiagobalosky/.cursor/extensions/ms-python.debugpy-2025.8.0-darwin-arm64/.noConfigDebugAdapterEndpoints/endpoint-3134642746c88c1c.txt",GEMINI_API_KEY:"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU",SHLVL:"3",HOME:"/Users/santiagobalosky",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",WA_PORT:"3001",HOMEBREW_PREFIX:"/opt/homebrew",BACKEND_PORT:"5002",npm_config_cache:"/Users/santiagobalosky/.npm",LOGNAME:"santiagobalosky",npm_lifecycle_script:"webpack --mode production --json > stats.json",VSCODE_GIT_IPC_HANDLE:"/var/folders/pl/84yxzzzd3v90npxddk5wtvsr0000gn/T/vscode-git-376add9a89.sock",COREPACK_ENABLE_AUTO_PIN:"0",BUN_INSTALL:"/Users/santiagobalosky/.bun",npm_config_user_agent:"npm/10.9.2 node/v23.9.0 darwin arm64 workspaces/false",REACT_APP_GEMINI_API_KEY:"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU",CHROME_PATH:"",VSCODE_GIT_ASKPASS_NODE:"/Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)",GIT_ASKPASS:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",OSLogRateLimit:"64",CLAUDECODE:"1",npm_node_execpath:"/opt/homebrew/Cellar/node/23.9.0/bin/node",npm_config_prefix:"/opt/homebrew",COLORTERM:"truecolor",VITE_API_URL:"http://localhost:5002/api",VITE_APP_NAME:"Venezia Ice Cream",VITE_SUPABASE_URL:"https://axmknxpmapomyegdaogl.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bWtueHBtYXBvbXllZ2Rhb2dsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4OTU1MTcsImV4cCI6MjA2NzQ3MTUxN30.DNv7zX7KFp50DzhfzWumNYKUONcchQ1xaGFd0UfA18g",SUPABASE_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bWtueHBtYXBvbXllZ2Rhb2dsIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTg5NTUxNywiZXhwIjoyMDY3NDcxNTE3fQ.jVTJQCzkDhOHPey7wLRRBGjrcp4JXZlbLwox0bxQvIY",PORT:"5002"}.REACT_APP_GOOGLE_MAPS_API_KEY&&r.createElement(f.aJ,{googleMapsApiKey:{CLAUDE_CODE_ENTRYPOINT:"cli",TERM_PROGRAM:"vscode",NODE:"/opt/homebrew/Cellar/node/23.9.0/bin/node",INIT_CWD:"/Users/santiagobalosky/Downloads/___venezia",BASE_URL:"http://localhost:5002",TERM:"xterm-256color",SHELL:"/bin/zsh",HOMEBREW_REPOSITORY:"/opt/homebrew",TMPDIR:"/var/folders/pl/84yxzzzd3v90npxddk5wtvsr0000gn/T/",npm_config_global_prefix:"/opt/homebrew",TERM_PROGRAM_VERSION:"1.3.5",ZDOTDIR:"/Users/santiagobalosky",MERCADOPAGO_WEBHOOK_URL:"https://760d-190-189-153-23.ngrok-free.app/payment/webhook",CURSOR_TRACE_ID:"ca0b4d1615b34a5ea4e2813559d1444a",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",MallocNanoZone:"0",COLOR:"0",WHATSAPP_API_TOKEN:"your_whatsapp_token",npm_config_noproxy:"",npm_config_local_prefix:"/Users/santiagobalosky/Downloads/___venezia",GIT_EDITOR:"true",NVM_DIR:"/Users/santiagobalosky/.nvm",USER:"santiagobalosky",COMMAND_MODE:"unix2003",npm_config_globalconfig:"/opt/homebrew/etc/npmrc",SSH_AUTH_SOCK:"/private/tmp/com.apple.launchd.xuCNbiahFc/Listeners",VSCODE_PROFILE_INITIALIZED:"1",__CF_USER_TEXT_ENCODING:"0x1F5:0x0:0x8",npm_execpath:"/opt/homebrew/lib/node_modules/npm/bin/npm-cli.js",PYDEVD_DISABLE_FILE_VALIDATION:"1",MERCADOPAGO_ACCESS_TOKEN:"TEST-8283236698213961-051118-1e867ef867dd24873cff4534c55dab80-60104869",PATH:"/Users/santiagobalosky/Downloads/___venezia/node_modules/.bin:/Users/santiagobalosky/Downloads/node_modules/.bin:/Users/santiagobalosky/node_modules/.bin:/Users/node_modules/.bin:/node_modules/.bin:/opt/homebrew/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/.bun/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Users/santiagobalosky/go/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Applications/Postgres.app/Contents/Versions/17/bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/go/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin:/var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin://Applications/Topaz Gigapixel AI.app/Contents/Resources/bin:/Library/Apple/usr/bin:/usr/local/go/bin:/Users/santiagobalosky/.cursor/extensions/ms-python.python-2025.6.1-darwin-arm64/python_files/deactivate/zsh:/Users/santiagobalosky/Downloads/___venezia/venv/bin:/Users/santiagobalosky/.bun/bin:/Users/santiagobalosky/.codeium/windsurf/bin:/Users/santiagobalosky/go/bin:/Applications/Postgres.app/Contents/Versions/17/bin:/Library/Frameworks/Python.framework/Versions/3.12/bin:/Users/santiagobalosky/.claude/scripts:/usr/local/go/bin:/Users/santiagobalosky/.claude/scripts:/Users/santiagobalosky/.claude/scripts",npm_package_json:"/Users/santiagobalosky/Downloads/___venezia/package.json",_:"/Users/santiagobalosky/Downloads/___venezia/node_modules/.bin/webpack",npm_config_userconfig:"/Users/santiagobalosky/.npmrc",npm_config_init_module:"/Users/santiagobalosky/.npm-init.js",USER_ZDOTDIR:"/Users/santiagobalosky",__CFBundleIdentifier:"com.todesktop.230313mzl4w4u92",npm_command:"run-script",PWD:"/Users/santiagobalosky/Downloads/___venezia",npm_lifecycle_event:"build:stats",EDITOR:"vi",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"delta",npm_package_name:"venezia-frontend",LANG:"C.UTF-8",BUNDLED_DEBUGPY_PATH:"/Users/santiagobalosky/.cursor/extensions/ms-python.debugpy-2025.8.0-darwin-arm64/bundled/libs/debugpy",FRONTEND_PORT:"3000",npm_config_npm_version:"10.9.2",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",XPC_FLAGS:"0x0",NODE_ENV:"development",WHATSAPP_API_URL:"https://api.whatsapp.com/v1",npm_config_node_gyp:"/opt/homebrew/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",npm_package_version:"2.0.0",XPC_SERVICE_NAME:"0",VSCODE_INJECTION:"1",VSCODE_DEBUGPY_ADAPTER_ENDPOINTS:"/Users/santiagobalosky/.cursor/extensions/ms-python.debugpy-2025.8.0-darwin-arm64/.noConfigDebugAdapterEndpoints/endpoint-3134642746c88c1c.txt",GEMINI_API_KEY:"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU",SHLVL:"3",HOME:"/Users/santiagobalosky",VSCODE_GIT_ASKPASS_MAIN:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass-main.js",WA_PORT:"3001",HOMEBREW_PREFIX:"/opt/homebrew",BACKEND_PORT:"5002",npm_config_cache:"/Users/santiagobalosky/.npm",LOGNAME:"santiagobalosky",npm_lifecycle_script:"webpack --mode production --json > stats.json",VSCODE_GIT_IPC_HANDLE:"/var/folders/pl/84yxzzzd3v90npxddk5wtvsr0000gn/T/vscode-git-376add9a89.sock",COREPACK_ENABLE_AUTO_PIN:"0",BUN_INSTALL:"/Users/santiagobalosky/.bun",npm_config_user_agent:"npm/10.9.2 node/v23.9.0 darwin arm64 workspaces/false",REACT_APP_GEMINI_API_KEY:"AIzaSyCuSgA0UIHHhmq8YjXD1e_Nn8582EG3gVU",CHROME_PATH:"",VSCODE_GIT_ASKPASS_NODE:"/Applications/Cursor.app/Contents/Frameworks/Cursor Helper (Plugin).app/Contents/MacOS/Cursor Helper (Plugin)",GIT_ASKPASS:"/Applications/Cursor.app/Contents/Resources/app/extensions/git/dist/askpass.sh",INFOPATH:"/opt/homebrew/share/info:/opt/homebrew/share/info:/opt/homebrew/share/info:",HOMEBREW_CELLAR:"/opt/homebrew/Cellar",OSLogRateLimit:"64",CLAUDECODE:"1",npm_node_execpath:"/opt/homebrew/Cellar/node/23.9.0/bin/node",npm_config_prefix:"/opt/homebrew",COLORTERM:"truecolor",VITE_API_URL:"http://localhost:5002/api",VITE_APP_NAME:"Venezia Ice Cream",VITE_SUPABASE_URL:"https://axmknxpmapomyegdaogl.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bWtueHBtYXBvbXllZ2Rhb2dsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4OTU1MTcsImV4cCI6MjA2NzQ3MTUxN30.DNv7zX7KFp50DzhfzWumNYKUONcchQ1xaGFd0UfA18g",SUPABASE_SERVICE_ROLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF4bWtueHBtYXBvbXllZ2Rhb2dsIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTg5NTUxNywiZXhwIjoyMDY3NDcxNTE3fQ.jVTJQCzkDhOHPey7wLRRBGjrcp4JXZlbLwox0bxQvIY",PORT:"5002"}.REACT_APP_GOOGLE_MAPS_API_KEY},r.createElement(f.u6,{mapContainerStyle:{width:"100%",height:"100%"},center:G,zoom:12,options:{styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]}]}},K.map((e=>e.coordinates&&r.createElement(f.pH,{key:e.id,position:{lat:e.coordinates.lat,lng:e.coordinates.lng},onClick:()=>Y(e),icon:{url:e.isOnline?"https://maps.google.com/mapfiles/ms/icons/green-dot.png":"https://maps.google.com/mapfiles/ms/icons/red-dot.png",scaledSize:new window.google.maps.Size(40,40)}}))),j&&r.createElement(f.Fu,{position:{lat:j.coordinates.lat,lng:j.coordinates.lng},onCloseClick:()=>Y(null)},r.createElement("div",{className:"p-2"},r.createElement("h3",{className:"text-lg font-bold"},j.name),r.createElement("p",{className:"text-base text-gray-600"},j.address),r.createElement("p",{className:"text-base mt-2"},Z(j)?r.createElement("span",{className:"text-green-600"},"Abierto"):r.createElement("span",{className:"text-red-600"},"Cerrado")))))))),r.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12"},S?r.createElement("div",{className:"flex justify-center py-12"},r.createElement("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600"})):0===K.length?r.createElement("div",{className:"text-center py-12"},r.createElement(o.A,{className:"h-16 w-16 text-gray-400 dark:text-gray-200 mx-auto mb-6"}),r.createElement("p",{className:"text-lg text-gray-600 dark:text-gray-300"},"No se encontraron sucursales")):r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.createElement(n.N,null,K.map((e=>r.createElement(J,{key:e.id,branch:e})))))),r.createElement(n.N,null,D&&r.createElement(z,{branch:T,onClose:()=>{R(!1),P(null)},onSave:()=>{R(!1),X()}})),r.createElement(n.N,null,T&&!D&&r.createElement(q,{branch:T,onClose:()=>P(null)})))}}}]);