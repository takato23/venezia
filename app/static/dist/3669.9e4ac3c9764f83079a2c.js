"use strict";(self.webpackChunkvenezia_frontend=self.webpackChunkvenezia_frontend||[]).push([[3669],{43669:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var r=a(96540),s=a(15977),n=a(49436),l=a(80964),i=a(66713),c=a(96844),m=a(44471),o=a(37946),d=a(418),g=a(46858),u=a(94945),p=a(39659),y=a(44731),h=a(66118),x=(a(70700),a(42203)),E=new class{constructor(){this.devices=[{id:"TEMP-001",name:"Congelador Principal",type:"freezer",location:"Sala de Producción",min_temp:-25,max_temp:-18,current_temp:-20,temp_change:-.5,status:"normal",battery_level:95,last_reading:(new Date).toISOString(),sensor_id:"SENS-001",notes:"Congelador principal para almacenamiento de helados"},{id:"TEMP-002",name:"Heladera de Ingredientes",type:"fridge",location:"Cocina",min_temp:2,max_temp:8,current_temp:5,temp_change:.2,status:"normal",battery_level:82,last_reading:(new Date).toISOString(),sensor_id:"SENS-002",notes:"Almacenamiento de leche, crema y frutas frescas"},{id:"TEMP-003",name:"Vitrina de Exhibición",type:"display",location:"Área de Venta",min_temp:-5,max_temp:-2,current_temp:-1,temp_change:.8,status:"warning",battery_level:67,last_reading:(new Date).toISOString(),alert_message:"Temperatura acercándose al límite máximo",sensor_id:"SENS-003"},{id:"TEMP-004",name:"Congelador de Respaldo",type:"freezer",location:"Almacén",min_temp:-25,max_temp:-18,current_temp:-15,temp_change:2.5,status:"alert",battery_level:45,last_reading:(new Date).toISOString(),alert_message:"ALERTA: Temperatura fuera de rango permitido",sensor_id:"SENS-004"},{id:"TEMP-005",name:"Cámara Fría",type:"storage",location:"Depósito",min_temp:0,max_temp:10,status:"offline",battery_level:12,last_reading:new Date(Date.now()-27e5).toISOString(),offline_duration:"45 minutos",sensor_id:"SENS-005"}],this.history={},this._generateHistoryData(),this._startSimulation()}_generateHistoryData(){this.devices.forEach((e=>{if("offline"!==e.status){this.history[e.id]=[];for(let t=24;t>=0;t--){const a=new Date(Date.now()-36e5*t),r=(e.min_temp+e.max_temp)/2,s=4*(Math.random()-.5);this.history[e.id].push({timestamp:a.toISOString(),temperature:Math.round(10*(r+s))/10})}}}))}_startSimulation(){setInterval((()=>{this.devices.forEach((e=>{if("offline"!==e.status){const t=.5*(Math.random()-.5);e.current_temp=Math.round(10*(e.current_temp+t))/10,e.temp_change=Math.round(10*t)/10,e.last_reading=(new Date).toISOString(),e.battery_level>0&&(e.battery_level=Math.max(0,e.battery_level-.5*Math.random())),e.current_temp<e.min_temp-2||e.current_temp>e.max_temp+2?(e.status="alert",e.alert_message=`ALERTA: Temperatura crítica: ${e.current_temp}°C`):e.current_temp<e.min_temp||e.current_temp>e.max_temp?(e.status="warning",e.alert_message=`Advertencia: Temperatura fuera de rango: ${e.current_temp}°C`):(e.status="normal",e.alert_message=null),this.history[e.id]&&(this.history[e.id].push({timestamp:(new Date).toISOString(),temperature:e.current_temp}),this.history[e.id].length>100&&this.history[e.id].shift())}else{const t=Date.now()-new Date(e.last_reading).getTime(),a=Math.floor(t/6e4);e.offline_duration=`${a} minutos`}}))}),3e4)}async getCurrentData(){return await new Promise((e=>setTimeout(e,300))),{devices:this.devices,last_update:(new Date).toISOString()}}async getHistory(e="24h"){await new Promise((e=>setTimeout(e,200)));const t={},a=Date.now();let r=24;switch(e){case"1h":r=1;break;case"6h":r=6;break;case"24h":r=24;break;case"7d":r=168}const s=a-36e5*r;return Object.keys(this.history).forEach((e=>{t[e]=this.history[e].filter((e=>new Date(e.timestamp).getTime()>s))})),t}async getDevices(){return await new Promise((e=>setTimeout(e,200))),{devices:this.devices.map((e=>({id:e.id,name:e.name,type:e.type,location:e.location,min_temp:e.min_temp,max_temp:e.max_temp,sensor_id:e.sensor_id,notes:e.notes})))}}async updateDevices(e){return await new Promise((e=>setTimeout(e,300))),e.forEach((e=>{const t=this.devices.find((t=>t.id===e.id));t&&Object.assign(t,e)})),{success:!0}}async getAlertConfig(){return await new Promise((e=>setTimeout(e,200))),{enabled:!0,critical_temp_deviation:3,warning_temp_deviation:2,offline_threshold_minutes:30,notification_cooldown_minutes:60,notification_methods:{app:!0,email:!0,sms:!1,whatsapp:!0},recipients:[{id:1,name:"Juan Pérez",email:"juan@venezia.com",phone:"+54911234567",methods:{email:!0,sms:!1,whatsapp:!0}},{id:2,name:"María González",email:"maria@venezia.com",phone:"+54917654321",methods:{email:!0,sms:!0,whatsapp:!1}}]}}async updateAlertConfig(e){return await new Promise((e=>setTimeout(e,300))),console.log("Alert config updated:",e),{success:!0}}};const v=new class{constructor(){this.alertRules={stock:{lowStockThreshold:.2,criticalStockThreshold:.1,checkInterval:36e5},expiration:{warningDays:7,criticalDays:3,checkInterval:864e5},sales:{anomalyThreshold:.3,checkInterval:36e5}},this.alerts=[],this.listeners=new Set}async generateAlerts(e){const t=[];if(e.inventory){const a=this.checkStockLevels(e.inventory);t.push(...a)}if(e.batches){const a=this.checkExpirationDates(e.batches);t.push(...a)}if(e.sales){const a=this.checkSalesAnomalies(e.sales);t.push(...a)}return t.forEach((e=>this.notifyListeners(e))),t}checkStockLevels(e){const t=[];return e.forEach((e=>{const a=e.current_stock/e.max_stock;a<=this.alertRules.stock.criticalStockThreshold?t.push({id:`stock_critical_${e.id}_${Date.now()}`,type:"stock_low",severity:"critical",title:`Stock Crítico: ${e.name}`,message:`El stock de ${e.name} está en ${Math.round(100*a)}% (${e.current_stock} ${e.unit})`,data:{item_id:e.id,item_name:e.name,current_stock:e.current_stock,max_stock:e.max_stock,percentage:a},action_url:`/inventory?highlight=${e.id}`,created_at:(new Date).toISOString(),read:!1}):a<=this.alertRules.stock.lowStockThreshold&&t.push({id:`stock_low_${e.id}_${Date.now()}`,type:"stock_low",severity:"warning",title:`Stock Bajo: ${e.name}`,message:`El stock de ${e.name} está en ${Math.round(100*a)}% (${e.current_stock} ${e.unit})`,data:{item_id:e.id,item_name:e.name,current_stock:e.current_stock,max_stock:e.max_stock,percentage:a},action_url:`/inventory?highlight=${e.id}`,created_at:(new Date).toISOString(),read:!1})})),t}checkExpirationDates(e){const t=[],a=new Date;return e.forEach((e=>{if(!e.expiration_date||"consumed"===e.status)return;const r=new Date(e.expiration_date),s=Math.ceil((r-a)/864e5);s<=0?t.push({id:`expired_${e.id}_${Date.now()}`,type:"expiration",severity:"critical",title:`Producto Vencido: ${e.product_name}`,message:`El lote ${e.batch_number} venció hace ${Math.abs(s)} días`,data:{batch_id:e.id,batch_number:e.batch_number,product_name:e.product_name,expiration_date:e.expiration_date,days_expired:Math.abs(s)},action_url:`/production/batches?highlight=${e.id}`,created_at:(new Date).toISOString(),read:!1}):s<=this.alertRules.expiration.criticalDays?t.push({id:`expiring_critical_${e.id}_${Date.now()}`,type:"expiration",severity:"critical",title:`Vencimiento Próximo: ${e.product_name}`,message:`El lote ${e.batch_number} vence en ${s} días`,data:{batch_id:e.id,batch_number:e.batch_number,product_name:e.product_name,expiration_date:e.expiration_date,days_until_expiration:s},action_url:`/production/batches?highlight=${e.id}`,created_at:(new Date).toISOString(),read:!1}):s<=this.alertRules.expiration.warningDays&&t.push({id:`expiring_warning_${e.id}_${Date.now()}`,type:"expiration",severity:"warning",title:`Próximo a Vencer: ${e.product_name}`,message:`El lote ${e.batch_number} vence en ${s} días`,data:{batch_id:e.id,batch_number:e.batch_number,product_name:e.product_name,expiration_date:e.expiration_date,days_until_expiration:s},action_url:`/production/batches?highlight=${e.id}`,created_at:(new Date).toISOString(),read:!1})})),t}checkSalesAnomalies(e){const t=[],a={};return e.forEach((e=>{a[e.product_id]||(a[e.product_id]={product_name:e.product_name,sales:[]}),a[e.product_id].sales.push(e)})),Object.entries(a).forEach((([e,a])=>{const{product_name:r,sales:s}=a;if(s.length<7)return;const n=this.aggregateDailySales(s),l=n.reduce(((e,t)=>e+t.total),0)/n.length,i=n[n.length-1]?.total||0,c=Math.abs(i-l)/l;if(c>this.alertRules.sales.anomalyThreshold){const a=i<l;t.push({id:`sales_anomaly_${e}_${Date.now()}`,type:"sales_anomaly",severity:"info",title:`Ventas ${a?"Bajas":"Altas"}: ${r}`,message:`Las ventas de hoy (${i}) son ${Math.round(100*c)}% ${a?"menores":"mayores"} que el promedio (${Math.round(l)})`,data:{product_id:e,product_name:r,today_sales:i,average_sales:l,deviation:c,trend:a?"low":"high"},action_url:`/analytics?product=${e}`,created_at:(new Date).toISOString(),read:!1})}})),t}aggregateDailySales(e){const t={};return e.forEach((e=>{const a=new Date(e.created_at).toDateString();t[a]||(t[a]={date:a,total:0,count:0}),t[a].total+=e.quantity,t[a].count+=1})),Object.values(t).sort(((e,t)=>new Date(e.date)-new Date(t.date)))}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(e){this.listeners.forEach((t=>{try{t(e)}catch(e){console.error("Error notifying alert listener:",e)}}))}updateRules(e){this.alertRules={...this.alertRules,...e}}getRules(){return this.alertRules}};var b=a(72284),f=a(28219),_=a(10607),k=a(46349),N=a(63560),w=a(20053),A=({device:e,isSelected:t,onClick:a})=>{const s=(e=>{switch(e){case"normal":return m.A;case"warning":return o.A;case"alert":return d.A;case"offline":return g.A;default:return i.A}})(e.status),n="freezer"===e.type?k.A:i.A,l=(e=>{switch(e){case"normal":return{variant:"success",label:"Normal"};case"warning":return{variant:"warning",label:"Advertencia"};case"alert":return{variant:"danger",label:"Alerta"};case"offline":return{variant:"gray",label:"Sin conexión"};default:return{variant:"gray",label:"Desconocido"}}})(e.status),c="alert"===e.status||e.current_temp<e.min_temp||e.current_temp>e.max_temp;return r.createElement("div",{onClick:a,className:(0,w.A)("p-4 rounded-lg border-2 cursor-pointer transition-all",(e=>{switch(e){case"normal":return"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800";case"warning":return"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800";case"alert":return"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800";case"offline":return"bg-gray-50 dark:bg-gray-900/20 border-gray-200 dark:border-gray-800";default:return"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"}})(e.status),t&&"ring-2 ring-blue-500 dark:ring-blue-400","hover:shadow-md")},r.createElement("div",{className:"flex items-start justify-between mb-3"},r.createElement("div",{className:"flex items-center gap-2"},r.createElement("div",{className:(0,w.A)("p-2 rounded-lg","normal"===e.status&&"bg-green-100 dark:bg-green-900/30","warning"===e.status&&"bg-yellow-100 dark:bg-yellow-900/30","alert"===e.status&&"bg-red-100 dark:bg-red-900/30","offline"===e.status&&"bg-gray-100 dark:bg-gray-900/30")},r.createElement(n,{className:(0,w.A)("h-5 w-5","normal"===e.status&&"text-green-600 dark:text-green-400","warning"===e.status&&"text-yellow-600 dark:text-yellow-400","alert"===e.status&&"text-red-600 dark:text-red-400","offline"===e.status&&"text-gray-600 dark:text-gray-400")})),r.createElement("div",null,r.createElement("h4",{className:"font-medium text-gray-900 dark:text-white"},e.name),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},e.location))),r.createElement(f.A,{variant:l.variant,size:"sm"},r.createElement(s,{className:"h-3 w-3 mr-1"}),l.label)),"offline"!==e.status?r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-3"},r.createElement("div",{className:(0,w.A)("text-3xl font-bold",c?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white")},e.current_temp,"°C"),r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Rango: ",e.min_temp,"°C - ",e.max_temp,"°C")),r.createElement("div",{className:"grid grid-cols-2 gap-2 text-sm"},r.createElement("div",{className:"flex items-center gap-1"},r.createElement(i.A,{className:"h-3 w-3 text-gray-400"}),r.createElement("span",{className:"text-gray-600 dark:text-gray-300"},"Δ ",e.temp_change>0?"+":"",e.temp_change,"°C/h")),r.createElement("div",{className:"flex items-center gap-1"},r.createElement(N.A,{className:"h-3 w-3 text-gray-400"}),r.createElement("span",{className:(0,w.A)("text-gray-600 dark:text-gray-300",e.battery_level<20&&"text-red-600 dark:text-red-400")},e.battery_level,"%")))):r.createElement("div",{className:"text-center py-4"},r.createElement(g.A,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400"},"Sin conexión desde hace ",e.offline_duration)),e.alert_message&&r.createElement("div",{className:(0,w.A)("mt-3 p-2 rounded text-xs","alert"===e.status&&"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300","warning"===e.status&&"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300")},e.alert_message))},C=a(48697),S=a(80697),D=a(76069),$=a(32708),T=a(48852),M=a(67773),z=a(11562),j=a(71428),I=({onClose:e,onSave:t})=>{const[a,s]=(0,r.useState)([]),[n,c]=(0,r.useState)(!1),[m,o]=(0,r.useState)(null),{success:d,error:g}=(0,x.d)(),{data:u,updateDevices:p}=(()=>{const[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{s(!0);const e=await E.getDevices();t(e),l(null)}catch(e){l(e.message)}finally{s(!1)}})()}),[]),{data:e,loading:a,error:n,updateDevices:(0,r.useCallback)((async e=>{try{await E.updateDevices(e);const a=await E.getDevices();return t(a),{success:!0}}catch(e){return l(e.message),{success:!1,error:e.message}}}),[])}})();(0,r.useEffect)((()=>{u?.devices&&s(u.devices)}),[u]);const[y,h]=(0,r.useState)({name:"",type:"freezer",location:"",min_temp:-25,max_temp:-18,alert_threshold:2,sensor_id:"",notes:""}),v=[{value:"freezer",label:"Congelador",defaultMin:-25,defaultMax:-18},{value:"fridge",label:"Heladera",defaultMin:2,defaultMax:8},{value:"display",label:"Vitrina",defaultMin:-5,defaultMax:-2},{value:"storage",label:"Almacén frío",defaultMin:0,defaultMax:10}];return r.createElement(M.A,{isOpen:!0,onClose:e,size:"xl"},r.createElement("div",{className:"max-h-[80vh] overflow-y-auto"},r.createElement("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 z-10"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement(l.A,{className:"h-5 w-5 text-gray-400"}),r.createElement("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white"},"Configuración de Dispositivos")),r.createElement("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},r.createElement(C.A,{className:"h-5 w-5"})))),r.createElement("div",{className:"p-6"},n?r.createElement(r.Fragment,null,r.createElement("div",{className:"mb-4"},r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white"},m?"Editar Dispositivo":"Nuevo Dispositivo")),r.createElement("div",{className:"space-y-4"},r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Nombre del dispositivo *"),r.createElement(z.A,{value:y.name,onChange:e=>h({...y,name:e.target.value}),placeholder:"Ej: Congelador Principal"})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Tipo de dispositivo"),r.createElement(j.A,{value:y.type,onChange:e=>(e=>{const t=v.find((t=>t.value===e));h({...y,type:e,min_temp:t.defaultMin,max_temp:t.defaultMax})})(e.target.value)},v.map((e=>r.createElement("option",{key:e.value,value:e.value},e.label)))))),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Ubicación *"),r.createElement(z.A,{value:y.location,onChange:e=>h({...y,location:e.target.value}),placeholder:"Ej: Sala de producción"})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"ID del Sensor *"),r.createElement(z.A,{value:y.sensor_id,onChange:e=>h({...y,sensor_id:e.target.value}),placeholder:"Ej: SENS-001"}))),r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Temperatura mínima (°C)"),r.createElement(z.A,{type:"number",value:y.min_temp,onChange:e=>h({...y,min_temp:parseFloat(e.target.value)})})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Temperatura máxima (°C)"),r.createElement(z.A,{type:"number",value:y.max_temp,onChange:e=>h({...y,max_temp:parseFloat(e.target.value)})})),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Umbral de alerta (°C)"),r.createElement(z.A,{type:"number",value:y.alert_threshold,onChange:e=>h({...y,alert_threshold:parseFloat(e.target.value)}),min:"0.5",step:"0.5"}),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Margen antes de activar alerta"))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Notas adicionales"),r.createElement("textarea",{value:y.notes,onChange:e=>h({...y,notes:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white",rows:3,placeholder:"Información adicional sobre el dispositivo..."})),r.createElement("div",{className:"flex justify-end gap-3 pt-4"},r.createElement(b.A,{variant:"secondary",onClick:()=>{c(!1),o(null)}},"Cancelar"),r.createElement(b.A,{variant:"primary",onClick:async()=>{if(y.name&&y.location&&y.sensor_id)try{if(m)s(a.map((e=>e.id===m.id?{...e,...y}:e))),d("Dispositivo actualizado");else{const e={id:Date.now(),...y,status:"normal",current_temp:(y.min_temp+y.max_temp)/2,battery_level:100,last_reading:(new Date).toISOString()};s([...a,e]),d("Dispositivo agregado")}c(!1),o(null)}catch(e){g("Error","No se pudo guardar el dispositivo")}else g("Error","Completa todos los campos requeridos")}},r.createElement(T.A,{className:"h-4 w-4 mr-2"}),m?"Actualizar":"Agregar"," Dispositivo")))):r.createElement(r.Fragment,null,r.createElement("div",{className:"flex justify-between items-center mb-4"},r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white"},"Dispositivos Configurados"),r.createElement(b.A,{variant:"primary",size:"sm",onClick:()=>{c(!0),o(null),h({name:"",type:"freezer",location:"",min_temp:-25,max_temp:-18,alert_threshold:2,sensor_id:"",notes:""})}},r.createElement(S.A,{className:"h-4 w-4 mr-1"}),"Agregar Dispositivo")),r.createElement("div",{className:"space-y-3"},a.map((e=>r.createElement("div",{key:e.id,className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},r.createElement("div",{className:"flex items-center gap-4"},r.createElement("div",{className:"p-2 rounded-lg bg-white dark:bg-gray-800"},r.createElement(i.A,{className:"h-5 w-5 text-gray-600 dark:text-gray-400"})),r.createElement("div",null,r.createElement("h4",{className:"font-medium text-gray-900 dark:text-white"},e.name),r.createElement("div",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400"},r.createElement("span",{className:"flex items-center gap-1"},r.createElement(D.A,{className:"h-3 w-3"}),e.location),r.createElement("span",null,"•"),r.createElement("span",null,e.min_temp,"°C a ",e.max_temp,"°C"),r.createElement("span",null,"•"),r.createElement("span",{className:"capitalize"},v.find((t=>t.value===e.type))?.label)))),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("button",{onClick:()=>(e=>{o(e),c(!0),h({name:e.name,type:e.type,location:e.location,min_temp:e.min_temp,max_temp:e.max_temp,alert_threshold:e.alert_threshold||2,sensor_id:e.sensor_id||"",notes:e.notes||""})})(e),className:"p-2 text-blue-600 hover:bg-blue-50 dark:text-blue-400 dark:hover:bg-blue-900/30 rounded"},r.createElement(l.A,{className:"h-4 w-4"})),r.createElement("button",{onClick:()=>(async e=>{if(window.confirm("¿Estás seguro de eliminar este dispositivo?"))try{s(a.filter((t=>t.id!==e))),d("Dispositivo eliminado")}catch(e){g("Error","No se pudo eliminar el dispositivo")}})(e.id),className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded"},r.createElement($.A,{className:"h-4 w-4"})))))),0===a.length&&r.createElement("div",{className:"text-center py-8"},r.createElement(i.A,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),r.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No hay dispositivos configurados"))))),!n&&r.createElement("div",{className:"sticky bottom-0 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700 px-6 py-4"},r.createElement("div",{className:"flex justify-end gap-3"},r.createElement(b.A,{variant:"secondary",onClick:e},"Cancelar"),r.createElement(b.A,{variant:"primary",onClick:async()=>{try{(await p(a)).success?t():g("Error","No se pudieron guardar los cambios")}catch(e){g("Error","No se pudieron guardar los cambios")}}},r.createElement(T.A,{className:"h-4 w-4 mr-2"}),"Guardar Cambios")))))},O=a(27235),P=a(43954),R=a(19869),H=a(47504),F=({onClose:e,onSave:t})=>{const[a,s]=(0,r.useState)({enabled:!0,critical_temp_deviation:3,warning_temp_deviation:2,offline_threshold_minutes:30,notification_cooldown_minutes:60,notification_methods:{app:!0,email:!1,sms:!1,whatsapp:!1},recipients:[]}),[l,i]=(0,r.useState)({name:"",email:"",phone:"",methods:{email:!0,sms:!1,whatsapp:!1}}),[c,m]=(0,r.useState)(!1),{success:o,error:g}=(0,x.d)(),{data:u,updateConfig:p}=(()=>{const[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{s(!0);const e=await E.getAlertConfig();t(e),l(null)}catch(e){l(e.message)}finally{s(!1)}})()}),[]),{data:e,loading:a,error:n,updateConfig:(0,r.useCallback)((async e=>{try{return await E.updateAlertConfig(e),t(e),{success:!0}}catch(e){return l(e.message),{success:!1,error:e.message}}}),[])}})();(0,r.useEffect)((()=>{u&&s(u)}),[u]);const y=[{id:"critical",title:"Temperatura Crítica",description:"Se activa cuando la temperatura supera los límites críticos",icon:d.A,color:"red",configKey:"critical_temp_deviation"},{id:"warning",title:"Temperatura de Advertencia",description:"Se activa cuando la temperatura se acerca a los límites",icon:d.A,color:"yellow",configKey:"warning_temp_deviation"},{id:"offline",title:"Dispositivo Sin Conexión",description:"Se activa cuando un dispositivo deja de reportar",icon:O.A,color:"gray",configKey:"offline_threshold_minutes"}],h=[{id:"app",label:"Notificación en App",icon:n.A},{id:"email",label:"Correo Electrónico",icon:P.A},{id:"sms",label:"SMS",icon:R.A},{id:"whatsapp",label:"WhatsApp",icon:H.A}];return r.createElement(M.A,{isOpen:!0,onClose:e,size:"xl"},r.createElement("div",{className:"max-h-[80vh] overflow-y-auto"},r.createElement("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 z-10"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("div",{className:"flex items-center gap-3"},r.createElement(n.A,{className:"h-5 w-5 text-gray-400"}),r.createElement("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white"},"Configuración de Alertas")),r.createElement("button",{onClick:e,className:"p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300"},r.createElement(C.A,{className:"h-5 w-5"})))),r.createElement("div",{className:"p-6 space-y-6"},r.createElement("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},r.createElement("div",null,r.createElement("h3",{className:"font-medium text-gray-900 dark:text-white"},"Sistema de Alertas"),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},"Activa o desactiva todas las alertas de temperatura")),r.createElement("label",{className:"relative inline-flex items-center cursor-pointer"},r.createElement("input",{type:"checkbox",checked:a.enabled,onChange:e=>s({...a,enabled:e.target.checked}),className:"sr-only peer"}),r.createElement("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-blue-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"}))),r.createElement("div",null,r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Tipos de Alerta"),r.createElement("div",{className:"space-y-4"},y.map((e=>r.createElement("div",{key:e.id,className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg"},r.createElement("div",{className:"flex items-start gap-3"},r.createElement("div",{className:(0,w.A)("p-2 rounded-lg","red"===e.color&&"bg-red-100 dark:bg-red-900/30","yellow"===e.color&&"bg-yellow-100 dark:bg-yellow-900/30","gray"===e.color&&"bg-gray-100 dark:bg-gray-900/30")},r.createElement(e.icon,{className:(0,w.A)("h-5 w-5","red"===e.color&&"text-red-600 dark:text-red-400","yellow"===e.color&&"text-yellow-600 dark:text-yellow-400","gray"===e.color&&"text-gray-600 dark:text-gray-400")})),r.createElement("div",{className:"flex-1"},r.createElement("h4",{className:"font-medium text-gray-900 dark:text-white"},e.title),r.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1"},e.description),r.createElement("div",{className:"mt-3"},r.createElement("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300"},"offline"===e.id?"Tiempo sin conexión (minutos)":"Desviación de temperatura (°C)"),r.createElement(z.A,{type:"number",value:a[e.configKey],onChange:t=>s({...a,[e.configKey]:parseFloat(t.target.value)}),className:"w-32 mt-1",min:"0",step:"offline"===e.id?"5":"0.5"}))))))))),r.createElement("div",null,r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4"},"Métodos de Notificación"),r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},h.map((e=>r.createElement("label",{key:e.id,className:(0,w.A)("flex items-center gap-3 p-3 border rounded-lg cursor-pointer transition-colors",a.notification_methods[e.id]?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-900/50")},r.createElement("input",{type:"checkbox",checked:a.notification_methods[e.id],onChange:t=>s({...a,notification_methods:{...a.notification_methods,[e.id]:t.target.checked}}),className:"sr-only"}),r.createElement(e.icon,{className:(0,w.A)("h-5 w-5",a.notification_methods[e.id]?"text-blue-600 dark:text-blue-400":"text-gray-400")}),r.createElement("span",{className:(0,w.A)("text-sm font-medium",a.notification_methods[e.id]?"text-blue-900 dark:text-blue-100":"text-gray-700 dark:text-gray-300")},e.label)))))),r.createElement("div",null,r.createElement("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Tiempo entre notificaciones (minutos)"),r.createElement(z.A,{type:"number",value:a.notification_cooldown_minutes,onChange:e=>s({...a,notification_cooldown_minutes:parseInt(e.target.value)}),className:"w-48",min:"5",step:"5"}),r.createElement("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1"},"Tiempo mínimo antes de repetir una alerta del mismo tipo")),r.createElement("div",null,r.createElement("div",{className:"flex items-center justify-between mb-4"},r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white"},"Destinatarios"),r.createElement(b.A,{variant:"primary",size:"sm",onClick:()=>m(!0)},r.createElement(S.A,{className:"h-4 w-4 mr-1"}),"Agregar Destinatario")),r.createElement("div",{className:"space-y-3"},a.recipients.map((e=>r.createElement("div",{key:e.id,className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},r.createElement("div",null,r.createElement("h4",{className:"font-medium text-gray-900 dark:text-white"},e.name),r.createElement("div",{className:"flex items-center gap-3 text-sm text-gray-500 dark:text-gray-400 mt-1"},e.email&&r.createElement("span",null,e.email),e.phone&&r.createElement("span",null,e.phone)),r.createElement("div",{className:"flex items-center gap-2 mt-2"},Object.entries(e.methods).map((([e,t])=>t&&r.createElement(f.A,{key:e,variant:"blue",size:"sm"},e))))),r.createElement("button",{onClick:()=>{return t=e.id,void s({...a,recipients:a.recipients.filter((e=>e.id!==t))});var t},className:"p-2 text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/30 rounded"},r.createElement($.A,{className:"h-4 w-4"}))))),0===a.recipients.length&&!c&&r.createElement("div",{className:"text-center py-8"},r.createElement(P.A,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),r.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No hay destinatarios configurados"))),c&&r.createElement("div",{className:"mt-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg space-y-4"},r.createElement("h4",{className:"font-medium text-gray-900 dark:text-white"},"Nuevo Destinatario"),r.createElement(z.A,{placeholder:"Nombre",value:l.name,onChange:e=>i({...l,name:e.target.value})}),r.createElement(z.A,{type:"email",placeholder:"Email",value:l.email,onChange:e=>i({...l,email:e.target.value})}),r.createElement(z.A,{type:"tel",placeholder:"Teléfono (con código de país)",value:l.phone,onChange:e=>i({...l,phone:e.target.value})}),r.createElement("div",{className:"flex items-center gap-4"},r.createElement("label",{className:"flex items-center gap-2"},r.createElement("input",{type:"checkbox",checked:l.methods.email,onChange:e=>i({...l,methods:{...l.methods,email:e.target.checked}}),className:"rounded"}),r.createElement("span",{className:"text-sm"},"Email")),r.createElement("label",{className:"flex items-center gap-2"},r.createElement("input",{type:"checkbox",checked:l.methods.sms,onChange:e=>i({...l,methods:{...l.methods,sms:e.target.checked}}),className:"rounded"}),r.createElement("span",{className:"text-sm"},"SMS")),r.createElement("label",{className:"flex items-center gap-2"},r.createElement("input",{type:"checkbox",checked:l.methods.whatsapp,onChange:e=>i({...l,methods:{...l.methods,whatsapp:e.target.checked}}),className:"rounded"}),r.createElement("span",{className:"text-sm"},"WhatsApp"))),r.createElement("div",{className:"flex justify-end gap-2"},r.createElement(b.A,{variant:"secondary",size:"sm",onClick:()=>m(!1)},"Cancelar"),r.createElement(b.A,{variant:"primary",size:"sm",onClick:()=>{l.name&&(l.email||l.phone)?(s({...a,recipients:[...a.recipients,{...l,id:Date.now()}]}),i({name:"",email:"",phone:"",methods:{email:!0,sms:!1,whatsapp:!1}}),m(!1),o("Destinatario agregado")):g("Error","Completa nombre y al menos un método de contacto")}},"Agregar"))))),r.createElement("div",{className:"sticky bottom-0 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700 px-6 py-4"},r.createElement("div",{className:"flex justify-end gap-3"},r.createElement(b.A,{variant:"secondary",onClick:e},"Cancelar"),r.createElement(b.A,{variant:"primary",onClick:async()=>{try{(await p(a)).success?(o("Configuración guardada","Las alertas se han actualizado correctamente"),t()):g("Error","No se pudo guardar la configuración")}catch(e){g("Error","No se pudo guardar la configuración")}}},r.createElement(T.A,{className:"h-4 w-4 mr-2"}),"Guardar Configuración")))))};h.t1.register(h.PP,h.kc,h.FN,h.No,h.hE,h.m_,h.s$,h.dN);var L=()=>{const[e,t]=(0,r.useState)(!1),[a,h]=(0,r.useState)(!1),[f,k]=(0,r.useState)(null),[N,C]=(0,r.useState)("24h"),[S,D]=(0,r.useState)(!0),{success:$,error:T,warning:M}=(0,x.d)(),{data:z,loading:j,refetch:O}=(()=>{const[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null),i=(0,r.useCallback)((async()=>{try{s(!0);const e=await E.getCurrentData();t(e),l(null)}catch(e){l(e.message)}finally{s(!1)}}),[]);return(0,r.useEffect)((()=>{i()}),[i]),{data:e,loading:a,error:n,refetch:i}})(),{data:P,loading:R}=((e="24h")=>{const[t,a]=(0,r.useState)(null),[s,n]=(0,r.useState)(!0),[l,i]=(0,r.useState)(null);return(0,r.useEffect)((()=>{(async()=>{try{n(!0);const t=await E.getHistory(e);a(t),i(null)}catch(e){i(e.message)}finally{n(!1)}})()}),[e]),{data:t,loading:s,error:l}})(N);(0,r.useEffect)((()=>{if(!S)return;const e=setInterval((()=>{O()}),3e4);return()=>clearInterval(e)}),[S,O]),(0,r.useEffect)((()=>{z?.devices&&z.devices.forEach((e=>{"alert"===e.status&&v.notifyListeners({id:`temp_alert_${e.id}_${Date.now()}`,type:"temperature",severity:"critical",title:`Alerta de Temperatura: ${e.name}`,message:`Temperatura fuera de rango: ${e.current_temp}°C (Rango: ${e.min_temp}°C - ${e.max_temp}°C)`,data:{device_id:e.id,device_name:e.name,current_temp:e.current_temp,min_temp:e.min_temp,max_temp:e.max_temp},created_at:(new Date).toISOString(),read:!1})}))}),[z]);const H=(0,r.useMemo)((()=>{if(!z?.devices)return null;const e=z.devices,t=e.length,a=e.filter((e=>"alert"===e.status)).length,r=e.filter((e=>"warning"===e.status)).length,s=e.filter((e=>"normal"===e.status)).length,n=e.filter((e=>"offline"===e.status)).length;return{total:t,alert:a,warning:r,normal:s,offline:n,avgTemp:e.filter((e=>"offline"!==e.status)).reduce(((e,t)=>e+t.current_temp),0)/(t-n)||0}}),[z]),L=(0,r.useMemo)((()=>{if(!P||!f)return null;const e=P[f.id]||[],t=e.map((e=>(0,p.A)(new Date(e.timestamp),"HH:mm")));return{labels:t,datasets:[{label:"Temperatura",data:e.map((e=>e.temperature)),borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",fill:!0,tension:.4},{label:"Máximo",data:new Array(t.length).fill(f.max_temp),borderColor:"rgb(239, 68, 68)",borderDash:[5,5],pointRadius:0,fill:!1},{label:"Mínimo",data:new Array(t.length).fill(f.min_temp),borderColor:"rgb(239, 68, 68)",borderDash:[5,5],pointRadius:0,fill:!1}]}}),[P,f]),V={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:f?`Historial - ${f.name}`:"Selecciona un dispositivo"}},scales:{y:{beginAtZero:!1,ticks:{callback:function(e){return e+"°C"}}}}};return j&&!z?r.createElement(_.A,{message:"Cargando sistema de monitoreo..."}):r.createElement("div",{className:"page-container"},r.createElement("div",{className:"page-header"},r.createElement("div",null,r.createElement("h1",{className:"page-title"},"Control de Temperaturas"),r.createElement("p",{className:"page-subtitle"},"Monitoreo en tiempo real de la cadena de frío")),r.createElement("div",{className:"flex gap-3"},r.createElement(b.A,{variant:"secondary",onClick:()=>{O(),$("Actualizado","Datos de temperatura actualizados")},disabled:j},r.createElement(s.A,{className:(0,w.A)("h-4 w-4 mr-2",j&&"animate-spin")}),"Actualizar"),r.createElement(b.A,{variant:"secondary",onClick:()=>h(!0)},r.createElement(n.A,{className:"h-4 w-4 mr-2"}),"Alertas"),r.createElement(b.A,{variant:"primary",onClick:()=>t(!0)},r.createElement(l.A,{className:"h-4 w-4 mr-2"}),"Configurar"))),H&&r.createElement("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 mb-6"},r.createElement("div",{className:"stat-card"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement(i.A,{className:"h-5 w-5 text-blue-500"}),r.createElement("span",{className:"text-xs text-gray-500"},"Promedio")),r.createElement("div",{className:"text-2xl font-bold text-gray-900 dark:text-white"},H.avgTemp.toFixed(1),"°C"),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},"Temperatura promedio")),r.createElement("div",{className:"stat-card"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement(c.A,{className:"h-5 w-5 text-gray-400"}),r.createElement("span",{className:"text-xs text-gray-500"},"Total")),r.createElement("div",{className:"text-2xl font-bold text-gray-900 dark:text-white"},H.total),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},"Dispositivos")),r.createElement("div",{className:"stat-card"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement(m.A,{className:"h-5 w-5 text-green-500"}),r.createElement("span",{className:"text-xs text-gray-500"},"Normal")),r.createElement("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400"},H.normal),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},"En rango")),r.createElement("div",{className:"stat-card"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement(o.A,{className:"h-5 w-5 text-yellow-500"}),r.createElement("span",{className:"text-xs text-gray-500"},"Advertencia")),r.createElement("div",{className:"text-2xl font-bold text-yellow-600 dark:text-yellow-400"},H.warning),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},"Precaución")),r.createElement("div",{className:"stat-card"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement(d.A,{className:"h-5 w-5 text-red-500"}),r.createElement("span",{className:"text-xs text-gray-500"},"Crítico")),r.createElement("div",{className:"text-2xl font-bold text-red-600 dark:text-red-400"},H.alert),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},"Fuera de rango")),r.createElement("div",{className:"stat-card"},r.createElement("div",{className:"flex items-center justify-between mb-2"},r.createElement(g.A,{className:"h-5 w-5 text-gray-400"}),r.createElement("span",{className:"text-xs text-gray-500"},"Offline")),r.createElement("div",{className:"text-2xl font-bold text-gray-500 dark:text-gray-400"},H.offline),r.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-400"},"Sin conexión"))),r.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6"},r.createElement("div",{className:"lg:col-span-1"},r.createElement("div",{className:"card"},r.createElement("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white"},"Dispositivos")),r.createElement("div",{className:"p-4 space-y-3 max-h-[600px] overflow-y-auto"},z?.devices?.map((e=>r.createElement(A,{key:e.id,device:e,isSelected:f?.id===e.id,onClick:()=>k(e)}))),(!z?.devices||0===z.devices.length)&&r.createElement("div",{className:"text-center py-8"},r.createElement(i.A,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),r.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"No hay dispositivos configurados"),r.createElement(b.A,{variant:"primary",size:"sm",className:"mt-3",onClick:()=>t(!0)},"Configurar dispositivos"))))),r.createElement("div",{className:"lg:col-span-2"},r.createElement("div",{className:"card"},r.createElement("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700"},r.createElement("div",{className:"flex items-center justify-between"},r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white"},"Historial de Temperatura"),r.createElement("div",{className:"flex items-center gap-2"},r.createElement("select",{value:N,onChange:e=>C(e.target.value),className:"text-sm border-gray-300 dark:border-gray-600 rounded-md"},r.createElement("option",{value:"1h"},"Última hora"),r.createElement("option",{value:"6h"},"Últimas 6 horas"),r.createElement("option",{value:"24h"},"Últimas 24 horas"),r.createElement("option",{value:"7d"},"Últimos 7 días")),r.createElement("label",{className:"flex items-center gap-2 text-sm"},r.createElement("input",{type:"checkbox",checked:S,onChange:e=>D(e.target.checked),className:"rounded border-gray-300"}),r.createElement("span",{className:"text-gray-600 dark:text-gray-400"},"Auto actualizar"))))),r.createElement("div",{className:"p-6"},L?r.createElement("div",{className:"h-96"},r.createElement(y.N1,{data:L,options:V})):r.createElement("div",{className:"h-96 flex items-center justify-center"},r.createElement("div",{className:"text-center"},r.createElement(u.A,{className:"h-12 w-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),r.createElement("p",{className:"text-gray-500 dark:text-gray-400"},"Selecciona un dispositivo para ver su historial"))))),f&&r.createElement("div",{className:"card mt-6"},r.createElement("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700"},r.createElement("h3",{className:"text-lg font-medium text-gray-900 dark:text-white"},"Detalles del Dispositivo")),r.createElement("div",{className:"p-6"},r.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},r.createElement("div",null,r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Ubicación"),r.createElement("div",{className:"font-medium text-gray-900 dark:text-white"},f.location)),r.createElement("div",null,r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Tipo"),r.createElement("div",{className:"font-medium text-gray-900 dark:text-white capitalize"},f.type)),r.createElement("div",null,r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Última lectura"),r.createElement("div",{className:"font-medium text-gray-900 dark:text-white"},(0,p.A)(new Date(f.last_reading),"HH:mm:ss"))),r.createElement("div",null,r.createElement("div",{className:"text-sm text-gray-500 dark:text-gray-400"},"Batería"),r.createElement("div",{className:"font-medium text-gray-900 dark:text-white"},f.battery_level,"%"))),f.notes&&r.createElement("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-900/50 rounded-lg"},r.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},f.notes)))))),e&&r.createElement(I,{onClose:()=>t(!1),onSave:()=>{O(),t(!1),$("Configuración guardada","Los dispositivos se han actualizado")}}),a&&r.createElement(F,{onClose:()=>h(!1),onSave:()=>{h(!1),$("Alertas configuradas","Las alertas se han actualizado")}}))}}}]);