/* ===============================================
   AI CHAT COMPLETE REDESIGN - PROPORTIONAL & COMPACT
   =============================================== */

/* 1. RESET COMPLETO DE PROPORCIONES */
/* Chat container principal */
.fixed.bottom-6.right-6.w-80,
div[class*="fixed bottom-"][class*="right-"][class*="w-80"] {
  width: 340px !important;
  bottom: 1rem !important;
  right: 1rem !important;
  font-size: 13px !important; /* Base font size */
}

/* 2. HEADER ULTRA COMPACTO */
.bg-gradient-to-r.from-purple-600.to-blue-600,
div[class*="bg-gradient-to-r"][class*="from-purple"] {
  background: linear-gradient(135deg, #8b5cf6 0%, #3b82f6 100%) !important;
  padding: 0.5rem 0.75rem !important; /* Muy reducido */
  height: auto !important;
}

/* Logo y título más pequeños */
.lucide-brain,
svg[class*="lucide-brain"] {
  width: 16px !important;
  height: 16px !important;
}

/* Indicador wifi mini */
.lucide-wifi,
svg[class*="lucide-wifi"] {
  width: 6px !important;
  height: 6px !important;
  bottom: -2px !important;
  right: -2px !important;
}

/* Título del chat */
h3.text-sm,
.text-white h3 {
  font-size: 0.75rem !important; /* 12px */
  font-weight: 500 !important;
  line-height: 1 !important;
}

/* Botones del header super pequeños */
.text-white.hover\:bg-white\/20,
button[class*="text-white"][class*="hover:bg-white"] {
  padding: 0.25rem !important;
  border-radius: 0.25rem !important;
  width: 24px !important;
  height: 24px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.text-white.hover\:bg-white\/20 svg,
button[class*="text-white"] svg {
  width: 12px !important;
  height: 12px !important;
}

/* 3. ÁREA DE MENSAJES - ULTRA COMPACTA */
.h-80.overflow-y-auto,
div[class*="h-80"][class*="overflow-y-auto"] {
  height: 300px !important; /* Altura reducida */
  padding: 0.5rem !important;
  font-size: 12px !important;
}

/* Mensajes individuales super compactos */
.max-w-\[85\%\],
div[class*="max-w-"][class*="85"] {
  max-width: 95% !important;
  padding: 0.375rem 0.625rem !important; /* Muy poco padding */
  border-radius: 0.5rem !important;
  margin-bottom: 0.375rem !important;
  font-size: 12px !important;
  line-height: 1.4 !important;
}

/* Prose/contenido de mensajes */
.prose.prose-sm,
.prose,
div[class*="prose"] {
  font-size: 12px !important;
  line-height: 1.4 !important;
  color: inherit !important;
}

.prose p,
.prose.prose-sm p,
div[class*="prose"] p {
  margin: 0 0 0.25rem 0 !important;
  font-size: 12px !important;
  line-height: 1.4 !important;
}

.prose p:last-child {
  margin-bottom: 0 !important;
}

/* Strong/bold más sutil */
.prose strong,
.prose.prose-sm strong {
  font-weight: 600 !important;
  font-size: 12px !important;
}

/* Código inline super compacto */
.prose code,
.prose.prose-sm code,
code.block {
  padding: 0.125rem 0.375rem !important;
  font-size: 11px !important;
  line-height: 1.3 !important;
  display: inline-block !important;
  margin: 0.125rem 0 !important;
  border-radius: 0.25rem !important;
}

/* Timestamps casi invisibles */
.text-xs.mt-1,
div[class*="text-xs"][class*="mt-1"] {
  font-size: 9px !important;
  margin-top: 0.125rem !important;
  opacity: 0.5 !important;
  line-height: 1 !important;
}

/* 4. BOTONES DE ACCIONES RÁPIDAS - MINIMALISTAS */
.p-1.px-2.py-1,
div[class*="p-1"][class*="px-2"] {
  padding: 0.375rem !important;
  border-top: 1px solid rgba(0, 0, 0, 0.05) !important;
}

/* Label de acciones super pequeño */
.text-\[10px\],
span[class*="text-"][class*="10px"] {
  font-size: 9px !important;
  line-height: 1 !important;
  margin-bottom: 0.25rem !important;
}

/* Grid de botones compacto */
.grid.grid-cols-2.gap-0\.5 {
  gap: 0.25rem !important;
}

/* Botones de acción minimalistas */
.grid.grid-cols-2 button,
div[class*="grid-cols-2"] button {
  padding: 0.25rem 0.375rem !important;
  font-size: 10px !important;
  line-height: 1.2 !important;
  border-radius: 0.25rem !important;
  height: auto !important;
  min-height: 24px !important;
  border-width: 1px !important;
}

/* Emojis en botones más pequeños */
.grid button .opacity-70,
button span[class*="opacity"] {
  font-size: 10px !important;
  margin-right: 0.125rem !important;
}

/* Texto de botones */
.truncate.max-w-\[60px\],
span[class*="truncate"] {
  max-width: 50px !important;
  font-size: 10px !important;
}

/* Chevron para expandir/colapsar */
.lucide-chevron-down,
svg[class*="chevron"] {
  width: 8px !important;
  height: 8px !important;
}

/* 5. ÁREA DE INPUT - SÚPER COMPACTA */
.border-t.border-gray-200 .p-2,
div[class*="border-t"] > div {
  padding: 0.375rem !important;
}

/* Form container */
form.flex.space-x-2,
form[class*="flex"][class*="space-x"] {
  gap: 0.375rem !important;
}

/* Input de texto minimalista */
input[type="text"].flex-1,
input[placeholder*="Pregúntame"] {
  padding: 0.375rem 0.625rem !important;
  font-size: 12px !important;
  line-height: 1.4 !important;
  height: 32px !important;
  border-radius: 0.375rem !important;
  border-width: 1px !important;
}

/* Botones de micrófono y enviar pequeños */
button.p-2.bg-gradient-to-r,
form button {
  padding: 0 !important;
  width: 32px !important;
  height: 32px !important;
  min-width: 32px !important;
  border-radius: 0.375rem !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

button.p-2 svg,
form button svg {
  width: 14px !important;
  height: 14px !important;
}

/* 6. MENSAJES DE USUARIO - Gradiente más sutil */
.bg-gradient-to-r.from-blue-500.to-purple-500,
div[class*="from-blue-500"][class*="to-purple-500"] {
  background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%) !important;
  font-size: 12px !important;
}

/* 7. SCROLLBAR INVISIBLE */
.overflow-y-auto::-webkit-scrollbar {
  width: 3px !important;
}

.overflow-y-auto::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15) !important;
  border-radius: 1.5px !important;
}

.dark .overflow-y-auto::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.15) !important;
}

/* 8. SOMBRA MÁS SUTIL */
.shadow-2xl,
div[class*="shadow-2xl"] {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
}

/* 9. BORDES CASI INVISIBLES */
.border,
.border-gray-200,
.border-gray-700 {
  border-color: rgba(0, 0, 0, 0.05) !important;
  border-width: 1px !important;
}

.dark .border,
.dark .border-gray-700 {
  border-color: rgba(255, 255, 255, 0.05) !important;
}

/* 10. ESPACIADOS MÍNIMOS */
.space-y-2 > * + * {
  margin-top: 0.375rem !important;
}

.space-x-2 > * + * {
  margin-left: 0.375rem !important;
}

.space-x-3 > * + * {
  margin-left: 0.5rem !important;
}

.space-x-1 > * + * {
  margin-left: 0.25rem !important;
}

/* 11. MODO EXPANDIDO - También proporcional */
.fixed.inset-4 {
  inset: 1.5rem !important;
  max-width: 600px !important;
  max-height: 500px !important;
  margin: auto !important;
}

/* 12. ANIMACIONES RÁPIDAS */
* {
  transition-duration: 150ms !important;
}

/* 13. BOTÓN FLOTANTE INICIAL - Más pequeño */
.fixed.bottom-4.right-4 button,
button[class*="fixed bottom"] {
  width: 44px !important;
  height: 44px !important;
  padding: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.fixed.bottom-4.right-4 button svg {
  width: 20px !important;
  height: 20px !important;
}

/* 14. FIXES ESPECÍFICOS PARA WHITESPACE */
.whitespace-pre-wrap {
  white-space: normal !important;
  word-break: break-word !important;
}

/* 15. DARK MODE - Ajustes sutiles */
.dark .bg-gray-100,
.dark div[class*="bg-gray-100"] {
  background-color: #374151 !important;
}

.dark .bg-gray-700,
.dark div[class*="bg-gray-700"] {
  background-color: #1f2937 !important;
}

/* 16. RESPONSIVE MÓVIL */
@media (max-width: 640px) {
  .fixed.bottom-6.right-6.w-80 {
    width: calc(100vw - 2rem) !important;
    max-width: 340px !important;
    bottom: 0.5rem !important;
    right: 0.5rem !important;
  }
  
  .h-80.overflow-y-auto {
    height: 250px !important;
  }
}

/* 17. FIXES PARA PARSEO Y FORMATO */
/* Listas en mensajes */
.prose ul,
.prose ol {
  margin: 0.25rem 0 !important;
  padding-left: 1rem !important;
}

.prose li {
  font-size: 12px !important;
  line-height: 1.4 !important;
  margin: 0.125rem 0 !important;
}

/* Bullet points */
.prose ul li::before {
  content: "•" !important;
  position: absolute !important;
  margin-left: -0.75rem !important;
  font-size: 12px !important;
}

/* 18. HOVER STATES SUTILES */
button:hover {
  transform: none !important;
  opacity: 0.85 !important;
}

/* 19. FOCUS STATES MÍNIMOS */
*:focus {
  outline: 1px solid rgba(59, 130, 246, 0.3) !important;
  outline-offset: 1px !important;
}

/* 20. ELIMINAR MÁRGENES INNECESARIOS */
.mb-2 {
  margin-bottom: 0.375rem !important;
}

.mb-0\.5 {
  margin-bottom: 0.125rem !important;
}

/* 21. FIX PARA EL BOTÓN DE TOGGLE DE ACCIONES */
button[style*="transform"] {
  transform: none !important;
}

/* 22. MEJOR SEPARACIÓN VISUAL */
.border-b {
  border-bottom-color: rgba(0, 0, 0, 0.06) !important;
}

.dark .border-b {
  border-bottom-color: rgba(255, 255, 255, 0.06) !important;
}